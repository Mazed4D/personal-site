/*! For license information please see 234.e81836b9f597146df78e.bundle.js.LICENSE.txt */
"use strict";(this.webpackChunkBV=this.webpackChunkBV||[]).push([[234],{90189:function(e,l,o){o.d(l,{h:function(){return n}});const n=e=>e.some((e=>null!=e))},28309:function(e,l,o){o.d(l,{P:function(){return Oe}});var n=o(8051),t=o(93806),i=o(12263),r=o(20291),a=o(63339),s=o.n(a),c=o(93301),d=o.n(c),u=o(7835),m=o(20399),v=o(78462),p=o(66107),g=o(86182),y=o(72724),h=o(24972),f=o(59838),E=o(47833),S=o(63711),x=o(69716),I=o(97100),k=o(41237),P=o(54162),C=o(90315),b=o(85457),w=o(86041),A=o(9088),R=o(40387),F=o(99301),O=o(64868),H=o(79660),M=o(562),T=o(13824);const L=({room:e})=>{var l,o,t,r;const a=(0,i.Fg)(),s=(0,R.H)(),{data:c}=(0,F.E)(),d=(0,h.sJ)((0,b.n)(null==e?void 0:e.roomId)),[u,v]=(0,n.useState)("slideOut"),p=(0,m.useIsFetching)(["accommodationsearch"])>0,g=(0,h.sJ)(w.l),y=(0,h.sJ)(A.Q);if((0,n.useEffect)((()=>{v(p?"slideOut":"slideIn")}),[p]),!e)return null;let f=(null==d?void 0:d.originalPriceInclVAT)!==(null==d?void 0:d.priceInclVAT)?(0,T.f)(d,null==c?void 0:c.currency,null==g?void 0:g.showDiscountAsFixedAmount):void 0;const E=null==(t=(0,M.E)(null!=(o=null==(l=null==g?void 0:g.accommodationSearch)?void 0:l.roomConfigs)?o:[]))?void 0:t.total,S=[1,void 0].includes(E)?s("EA4H.General.Guest_LOWER"):s("EA4H.General.Guests_LOWER");return n.createElement(n.Fragment,null,n.createElement(P.A,{style:{position:"absolute",top:"15px",left:0}}),n.createElement(k.ht,{style:{textShadow:"0px 1px 1px hsla(0,0%,0%,.35)"},className:u},n.createElement(C.z,{room:e}),d&&n.createElement("p",null,n.createElement("span",{style:{fontWeight:a.css.bodyBoldFontWeight,fontSize:a.css.bodyFontSize}},s("EA4H.General.From")," ",y.format(null!=(r=d.priceInclVAT)?r:0)," ",null==c?void 0:c.currency," "),n.createElement("span",{style:{fontSize:a.css.smallFontSize}},n.createElement("span",{style:{textTransform:"lowercase",whiteSpace:"nowrap"}},(()=>{var e,l,o;let n=[1,void 0].includes(null==(e=null==g?void 0:g.accommodationSearch)?void 0:e.numberOfNights)?s("EA4H.General.ForOneNight"):(0,O.n)(s("EA4H.General.ForNightsLOWER"),null==(l=null==g?void 0:g.accommodationSearch)?void 0:l.numberOfNights);return(0,H._)(null==(o=null==g?void 0:g.accommodationSearch)?void 0:o.roomConfigs)&&(n=`${n}, ${E} ${S}`),n})()),f&&n.createElement("span",{style:{whiteSpace:"nowrap",display:"block"}}," ",s("EA4H.General.AndYouSave")," ",f)))))};var G=o(32688),N=o(17204),z=o(59154),Q=o(48774);const J=({room:e,rates:l,rightArrow:o,isSelected:t,showPrice:r,onShowPricesRequested:a,onMoreInfoClicked:s})=>{var c,d,u,v,p,g;const y=(0,i.Fg)(),k=(0,R.H)();let P=(0,h.sJ)(w.l);const C=null==(c=null==P?void 0:P.roomsResult)?void 0:c.filter((l=>l.roomId===e.id)),b=(0,m.useIsFetching)(["accommodationsearch"])>0,A=null==C?void 0:C.every((e=>0===e.nrAvailable)),{data:F}=(0,z.M)(),O=null==e?void 0:e.id,H=(0,n.useMemo)((()=>null==F?void 0:F.rooms.find((e=>e.id===O))),[F,O]),M=(0,n.useMemo)((()=>{var l,o;return(0,N.Hd)(k,null!=(o=null==(l=null==P?void 0:P.accommodationSearch)?void 0:l.roomConfigs)?o:[],H,e)}),[P,H,k,e]),T=null!=(d=null==M?void 0:M.message)?d:k("EA4H.General.NotAvailableForSelectedDates"),J=null==(v=null==(u=null==l?void 0:l[0])?void 0:u.ratesPerRoomConfig)?void 0:v[0].hitKey,_=(0,m.useIsMutating)({mutationKey:"addToBasket",predicate:e=>e.options.variables.request.hitkey===J});return n.createElement(G.J,{Room:e},n.createElement(x.g,{onNameClicked:()=>s(e.id),productName:e.name,backgroundUrl:null==(g=null==(p=e.images)?void 0:p[0])?void 0:g.url},n.createElement("div",{style:{cursor:"pointer"},onClick:()=>s(e.id)},r&&n.createElement(L,{room:null==C?void 0:C[0]}),n.createElement("p",{style:{marginTop:"10px",fontSize:y.css.smallFontSize,textShadow:"0px 1px 1px hsla(0,0%,0%,.35)"}},(()=>{var l,o;const n=[];return(null==(l=e.translatedBedTypes)?void 0:l[0])&&n.push(null==(o=e.translatedBedTypes)?void 0:o[0]),e.roomSize&&n.push((0,Q.S)(e)),e.maxAdultOccupancy&&n.push(`Max ${e.maxAdultOccupancy} pers`),n.join(" · ")})())),n.createElement("div",{style:{display:"flex",marginBottom:"25px",gap:"15px",marginTop:"20px"}},n.createElement(S.z,{isLoading:b,onClick:()=>s(e.id),style:{whiteSpace:"nowrap"},withIcon:!0},k("EA4H.General.MoreInfo")," ",n.createElement(E.G,{icon:f.faCircleInfo})),r&&(null==P?void 0:P.roomsResult)?n.createElement(I.t,{rightArrow:o,style:{pointerEvents:"auto"},disabledMessage:T,isDisabled:A,isLoading:b||o&&_>0,isSelected:t,onClick:a}):n.createElement("div",{style:{width:"100%"}}))))};var _=o(72573),j=o(17730),B=o(58),V=o(41347),W=o(85438),$=o(32326),q=o(72517),D=o(90189);const U=(0,h.CG)({key:"expandedRoomTileRatesState",get:e=>({get:l})=>(0,h.k9)(e.map((e=>(0,_.S)(e))))}),Z=({onMoreInfoClicked:e,onTogglePrices:l,columnCount:o,rooms:a,showPrice:s})=>{var c;const[d,u]=(0,n.useState)(),f=(0,n.useMemo)((()=>a.map((e=>e.id))),[a]);let E=(0,h.sJ)(w.l);const S=(0,h.sJ)(U(f)),x=(0,h.sJ)(B.V),{addToBasket:I}=(0,$.c)(),{registerPixelEvent:k}=(0,W.t)(),P=(0,V.g)(),C=(0,m.useQueryClient)(),b=(0,r.k6)(),A=(0,i.Fg)(),R=(0,t.useMediaQuery)({query:A.mediaQueries.verySmall}),F=(0,h.sJ)(j.e),O=(0,n.useContext)(p.N),H=(0,r.TH)(),M=e=>{var l,o,n,t;return s&&1===(null==(o=null==(l=null==E?void 0:E.accommodationSearch)?void 0:l.roomConfigs)?void 0:o.length)&&1===(null==(n=S[e])?void 0:n.length)&&1===(null==(t=S[e][0].ratesPerRoomConfig)?void 0:t.length)&&!S[e][0].ratesPerRoomConfig[0].isLocked},T=e=>{return o=void 0,n=null,t=function*(){var o,n;if((null==O?void 0:O.preventSinglePriceListResult)&&M(e)){const l=S[e][0].ratesPerRoomConfig[0];yield I.mutateAsync({request:{hitkey:l.hitKey,nrOfUnits:1,resultId:null==E?void 0:E.resultId,useExistingBasket:!1},gtmInfo:{productPrice:null==(o=S[e][0].ratesPerRoomConfig[0].totalPrice)?void 0:o.priceInclVAT,productId:null==x?void 0:x.roomId,productName:null==(n=a.find((e=>e.id===(null==x?void 0:x.roomId))))?void 0:n.name,productCategory:"Accommodation"}},{onSuccess:()=>{(0,q.D)(P.APIClient,P.channelId,C,b,H.pathname.toLowerCase(),k,F,+P.languageId)}})}else l(a[e].id)},new Promise(((e,l)=>{var i=e=>{try{a(t.next(e))}catch(e){l(e)}},r=e=>{try{a(t.throw(e))}catch(e){l(e)}},a=l=>l.done?e(l.value):Promise.resolve(l.value).then(i,r);a((t=t.apply(o,n)).next())}));var o,n,t};return(0,n.useEffect)((()=>{(null==x?void 0:x.isExpanded)&&f.includes(x.roomId)&&u(x.roomId)}),[x,f]),n.createElement(y.M,{"data-testid":"room_card_tile_group",columnCount:o},a.map(((l,o)=>n.createElement(J,{onMoreInfoClicked:e,onShowPricesRequested:()=>T(o),showPrice:s,isSelected:(null==x?void 0:x.roomId)===l.id&&x.isExpanded,key:l.id,room:l,rates:S[o],rightArrow:(null==O?void 0:O.preventSinglePriceListResult)&&M(o)}))),s&&a.some((e=>{var l;const o=null==(l=null==E?void 0:E.roomsResult)?void 0:l.find((l=>l.roomId===e.id));return(0,D.h)([null==o?void 0:o.cheapestPrice,null==o?void 0:o.cheapestPriceNoLock])}))&&n.createElement(v.U,{in:a.some((e=>(null==x?void 0:x.roomId)===e.id))&&!0===(null==x?void 0:x.isExpanded),style:{gridColumn:"1 / -1"}},n.createElement("div",{style:{position:"relative"}},n.createElement(g.u,{alignArrow:R?void 0:1===a.length||d===a[0].id?"left":"right",rates:Boolean(d)&&d===(null==(c=a[1])?void 0:c.id)?S[1]:S[0]}))))};var K=o(61459),Y=o(71566);const X=i.ZP.div`
  margin-left: 20px;
  display: flex;
  flex-direction: column;
  padding-right: 30px;

  @media ${({theme:e})=>e.mediaQueries.verySmall} {
    margin-left: 0;
  }
`,ee=i.ZP.div`
  display: flex;
  column-gap: 15px;
  row-gap: 5px;
  align-items: center;
  opacity: ${({theme:e})=>e.css.bodyMutedOpacity};
  flex-grow: 1;
  flex-wrap: wrap;
  margin-top: 15px;
  color: ${({theme:e})=>e.css.bodyColor};
  @media (max-width: 800px) {
    margin-bottom: 20px;
    column-gap: 4px;
    row-gap: 0px;
  }
`,le=i.ZP.div`
  font-size: ${({theme:e})=>e.css.smallFontSize};
  align-self: center;
  gap: 8px;
  display: flex;
  align-items: center;

  @media ${({theme:e})=>e.mediaQueries.verySmall} {
    display: inline-block;
  }
`;var oe=o(53540);const ne=({label:e,icon:l})=>{const o=(0,i.Fg)(),r=(0,t.useMediaQuery)({query:o.mediaQueries.verySmall});return e?n.createElement(le,null,!r&&n.createElement(E.G,{style:{fontSize:"16px"},icon:l}),n.createElement("p",null,e)):null};var te=o(74939);const ie=({room:e})=>{const l=(0,i.Fg)(),o=(0,t.useMediaQuery)({query:l.mediaQueries.verySmall}),r=(0,R.H)();return n.createElement(ee,null,(0,te.X)(e,r).map(((e,l)=>o?n.createElement("div",{key:e.displayName,style:{whiteSpace:"nowrap",display:"flex",gap:"4px"}},0!==l&&"·",n.createElement(ne,{label:e.displayName,icon:e.icon})):n.createElement(ne,{key:e.displayName,label:e.displayName,icon:e.icon}))))};var re=o(46601);const ae=({room:e,onClick:l})=>{var o;const r=(0,R.H)(),a=(0,i.Fg)(),{data:s}=(0,F.E)(),c=(0,t.useMediaQuery)({query:a.mediaQueries.verySmall});return n.createElement(X,null,n.createElement("div",{onClick:()=>l(e.id),style:{cursor:"pointer"}},n.createElement(Y.Q,{style:{fontSize:c?a.css.subtitleFontSmaller:a.css.subtitleFontSize,marginTop:c?"20px":"unset"}},e.name),n.createElement(re.cJ,{style:{color:a.css.bodyColor,marginTop:"10px"},maxLines:3,dangerouslySetInnerHTML:{__html:null!=(o=(0,N.ju)(e.searchResultText))?o:""}}),n.createElement("div",null,n.createElement(S.z,{style:{color:a.css.linkColor,fontFamily:a.css.bodyFontFamily,fontSize:a.css.smallFontSize,lineHeight:a.css.bodyLineHeight,alignSelf:"start"},variant:"text",onClick:()=>l(e.id)},r("EA4H.General.MoreInformation"),n.createElement(E.G,{style:{marginLeft:"5px",fontSize:"14px"},icon:K.yO})))),(null==s?void 0:s.displayRoomAttributesOnline)&&n.createElement("div",{style:{marginBottom:c?"20px":0}},n.createElement(oe.b,{room:e})),!(null==s?void 0:s.displayRoomAttributesOnline)&&n.createElement(ie,{room:e}))};var se=o(70711);const ce=({rates:e,room:l,isValidSearchConfig:o})=>{var a,s,c,d,u,v,p;const[g,y]=(0,n.useState)("slideOut"),f=(0,h.Zl)(se.N),E=(0,h.sJ)((0,b.n)(null==l?void 0:l.roomId)),S=(0,h.sJ)(w.l),x=(0,h.sJ)(A.Q),{data:I}=(0,F.E)(),C=(0,R.H)(),L=(0,i.Fg)(),G=(0,t.useMediaQuery)({query:L.mediaQueries.verySmall}),N=(0,r.k6)(),z=(0,m.useIsFetching)(["accommodationsearch"])>0;(0,n.useEffect)((()=>{y(z&&"slideOut"!==g?"slideOut":"slideIn")}),[z]);let Q=(null==E?void 0:E.originalPriceInclVAT)!==(null==E?void 0:E.priceInclVAT)?(0,T.f)(E,null==I?void 0:I.currency,null==S?void 0:S.showDiscountAsFixedAmount):void 0;const J=null==(c=(0,M.E)(null!=(s=null==(a=null==S?void 0:S.accommodationSearch)?void 0:a.roomConfigs)?s:[]))?void 0:c.total,_=[1,void 0].includes(J)?C("EA4H.General.Guest_LOWER"):C("EA4H.General.Guests_LOWER");return n.createElement(n.Fragment,null,n.createElement(P.A,{style:{position:"absolute",top:"10px",left:0}}),n.createElement(k.ht,{className:g,style:{textAlign:G?"left":"right",right:0,top:0}},!(null==o?void 0:o.valid)&&n.createElement("div",{style:{margin:0,fontWeight:L.css.bodyBoldFontWeight,fontSize:L.css.smallFontSize,color:L.css.offerColorDark}},n.createElement("p",{style:{display:"inline",whiteSpace:"nowrap"}},null==o?void 0:o.message),"dates"===(null==o?void 0:o.reason)&&n.createElement(n.Fragment,null," - ",n.createElement("span",{style:{display:"inline",textDecoration:"underline",cursor:"pointer"},onClick:()=>{N.push(`/accommodation/room-info/${null==l?void 0:l.roomId}`),f(!1)}},C("EA4H.General.ViewAvailableDates")))),(0,D.h)([null==l?void 0:l.cheapestPrice,null==l?void 0:l.cheapestPriceNoLock])&&e.length>0&&n.createElement(n.Fragment,null,n.createElement("p",{style:{color:L.css.bodyColor,fontSize:G?L.css.bodyFontSize:L.css.bodyLargeFontSize,margin:0,whiteSpace:"nowrap",fontWeight:L.css.bodyBoldFontWeight}},C("EA4H.General.From")," ",n.createElement("span",null,x.format(null!=(d=null==E?void 0:E.priceInclVAT)?d:0)," ",null==I?void 0:I.currency)),n.createElement("p",{style:{color:L.css.bodyColor,fontSize:L.css.smallFontSize,opacity:L.css.bodyMutedOpacity,display:"block"}},n.createElement("span",{style:{textTransform:"lowercase"}},[1,void 0].includes(null==(u=null==S?void 0:S.accommodationSearch)?void 0:u.numberOfNights)?C("EA4H.General.ForOneNight"):(0,O.n)(C("EA4H.General.ForNightsLOWER"),null==(v=null==S?void 0:S.accommodationSearch)?void 0:v.numberOfNights),(0,H._)(null==(p=null==S?void 0:S.accommodationSearch)?void 0:p.roomConfigs)&&`, ${J} ${_}`),Q&&n.createElement("span",{style:{whiteSpace:"nowrap",display:G?"inline":"block"}},C("EA4H.General.AndYouSave")," ",Q)))))},de=i.ZP.div`
  position:relative;
`;var ue=o(49451);const me=({room:e,rates:l,showPrice:o,onMoreInfoClicked:t})=>{var i,r,a;const[s,c]=(0,n.useState)(!1),{data:d}=(0,z.M)(),u=null==d?void 0:d.rooms.find((l=>l.id===(null==e?void 0:e.id))),p=(0,R.H)();let y=(0,h.sJ)(w.l);const f=null!=(r=null==(i=null==y?void 0:y.roomsResult)?void 0:i.filter((l=>l.roomId===e.id)))?r:[],E=null==f?void 0:f.every((e=>0===e.nrAvailable)),S=(0,m.useIsFetching)(["accommodationsearch"])>0,x=o&&f&&(null==f?void 0:f.length)>0,k=n.useMemo((()=>{var e,l;return(0,N.Hd)(p,null!=(l=null==(e=null==y?void 0:y.accommodationSearch)?void 0:e.roomConfigs)?l:[],u,null==f?void 0:f[0])}),[y,e,u,p]);return n.createElement("div",{"data-testid":"room_card_classic_small"},n.createElement(ue.E,{images:null!=(a=e.images)?a:[]},n.createElement(ae,{onClick:t,room:e}),n.createElement("div",{style:{display:"flex",justifyContent:x?"space-between":"end",alignItems:"center",columnGap:"10px"}},f.length>0&&n.createElement(ce,{isValidSearchConfig:k,rates:null!=l?l:[],room:null==f?void 0:f[0]}),x&&(null==k?void 0:k.valid)&&n.createElement(I.t,{maxWidth:"max-content",flexBasis:"auto",isLoading:S,isDisabled:E,onClick:()=>c((e=>!e)),isSelected:s}))),o&&f.length>0&&n.createElement(v.U,{in:s},n.createElement(de,null,n.createElement(g.u,{noArrow:!0,rates:null!=l?l:[]}))))},ve=({room:e,rates:l,showPrice:o,onMoreInfoClicked:t})=>{var i,r,a;let s=(0,h.sJ)(w.l);const c=null!=(r=null==(i=null==s?void 0:s.roomsResult)?void 0:i.filter((l=>l.roomId===e.id)))?r:[],d=((0,m.useIsFetching)(["accommodationsearch"]),(0,R.H)()),{data:u}=(0,z.M)(),p=null==u?void 0:u.rooms.find((l=>l.id===(null==e?void 0:e.id))),y=(0,n.useMemo)((()=>{var e,l;return(0,N.Hd)(d,null!=(l=null==(e=null==s?void 0:s.accommodationSearch)?void 0:e.roomConfigs)?l:[],p,null==c?void 0:c[0])}),[s,e,p,d]);return n.createElement("div",{style:{width:"100%"},"data-testid":"room_card_classic_large"},n.createElement(ue.E,{images:null!=(a=e.images)?a:[]},n.createElement(ae,{onClick:t,room:e}),(null==s?void 0:s.roomsResult)&&n.createElement(ce,{isValidSearchConfig:y,rates:null!=l?l:[],room:null==c?void 0:c[0]})),o&&l&&l.length>0&&n.createElement(v.U,{in:!0},n.createElement(de,null,n.createElement(g.u,{noArrow:!0,rates:null!=l?l:[]}))))},pe=({room:e,showPrice:l,onMoreInfoClicked:o})=>{const r=(0,i.Fg)(),a=(0,t.useMediaQuery)({query:r.mediaQueries.verySmall}),s=(0,h.sJ)((0,_.S)(e.id));return n.createElement(G.J,{Room:e},a&&n.createElement(me,{onMoreInfoClicked:o,rates:s,room:e,showPrice:l}),!a&&n.createElement(ve,{onMoreInfoClicked:o,rates:null!=s?s:[],room:e,showPrice:l}))};var ge=o(19551);const ye=({room:e})=>{var l,o,r,a;const[s,c]=(0,n.useState)("slideOut"),d=(0,h.sJ)((0,b.n)(e.roomId)),u=(0,h.sJ)(w.l),v=(0,h.sJ)(A.Q),p=(0,i.Fg)(),g=(0,R.H)(),{data:y}=(0,F.E)(),f=(0,t.useMediaQuery)({query:p.mediaQueries.verySmall}),E=(0,m.useIsFetching)(["accommodationsearch"])>0;(0,n.useEffect)((()=>{c(E?"slideOut":"slideIn")}),[E]);let S=(null==d?void 0:d.originalPriceInclVAT)!==(null==d?void 0:d.priceInclVAT)?(0,T.f)(d,null==y?void 0:y.currency,null==u?void 0:u.showDiscountAsFixedAmount):void 0;const x=null==(r=(0,M.E)(null!=(o=null==(l=null==u?void 0:u.accommodationSearch)?void 0:l.roomConfigs)?o:[]))?void 0:r.total,I=[1,void 0].includes(x)?g("EA4H.General.Guest_LOWER"):g("EA4H.General.Guests_LOWER");return n.createElement(n.Fragment,null,n.createElement(P.A,{style:{position:"absolute",top:"15px",left:0}}),n.createElement(k.ht,{className:s},n.createElement(C.z,{room:e}),d&&n.createElement("p",null,n.createElement("span",{style:{fontWeight:p.css.bodyBoldFontWeight,fontSize:p.css.bodyFontSize}},g("EA4H.General.From")," ",v.format(null!=(a=d.priceInclVAT)?a:0)," ",null==y?void 0:y.currency," "),n.createElement("span",{style:{fontSize:p.css.bodyFontSize,display:f?"block":"inline"}},n.createElement("span",{style:{textTransform:"lowercase",whiteSpace:"nowrap"}},(()=>{var e,l,o;let n=[1,void 0].includes(null==(e=null==u?void 0:u.accommodationSearch)?void 0:e.numberOfNights)?g("EA4H.General.ForOneNight"):(0,O.n)(g("EA4H.General.ForNightsLOWER"),null==(l=null==u?void 0:u.accommodationSearch)?void 0:l.numberOfNights);return(0,H._)(null==(o=null==u?void 0:u.accommodationSearch)?void 0:o.roomConfigs)&&(n=`${n}, ${x} ${I}`),n})()),S&&n.createElement("span",{style:{whiteSpace:"nowrap",display:"block"}},g("EA4H.General.AndYouSave")," ",S)))))},he=i.ZP.div`
  display: flex;
  column-gap: 15px;
  row-gap: 5px;
  align-items: center;
  flex-grow: 1;
  flex-wrap: wrap;
  margin-top: 15px;
`,fe=i.ZP.div`
  font-size: ${({theme:e})=>e.css.smallFontSize};
  align-self: center;
  gap: 8px;
  display: flex;
  align-items: center;

  @media ${({theme:e})=>e.mediaQueries.verySmall} {
    display: inline-block;
  }
`,Ee=({label:e,icon:l})=>e?n.createElement(fe,null,n.createElement(E.G,{style:{fontSize:"16px"},icon:l}),n.createElement("p",null,e)):null;var Se=o(58056);const xe=({room:e,showPrice:l,onTogglePrices:o,onMoreInfoClicked:t})=>{var i,a,s,c,d,u,y,x,k,P,C,b,A,F;const O=(0,R.H)();let H=(0,h.sJ)(w.l);const M=null==(i=null==H?void 0:H.roomsResult)?void 0:i.filter((l=>l.roomId===e.id)),T=null==M?void 0:M.every((e=>0===e.nrAvailable)),L=(0,m.useIsFetching)(["accommodationsearch"])>0,Q=(0,h.sJ)((0,_.S)(e.id)),J=(0,h.sJ)(B.V),{data:U}=(0,z.M)(),Z=null==e?void 0:e.id,K=(0,n.useMemo)((()=>null==U?void 0:U.rooms.find((e=>e.id===Z))),[U,Z]),X=(0,n.useMemo)((()=>{var l,o;return(0,N.Hd)(O,null!=(o=null==(l=null==H?void 0:H.accommodationSearch)?void 0:l.roomConfigs)?o:[],K,e)}),[H,K,O,e]),ee=(0,n.useContext)(p.N),{addToBasket:le}=(0,$.c)(),{registerPixelEvent:oe}=(0,W.t)(),ne=(0,V.g)(),ie=(0,m.useQueryClient)(),ae=(0,r.k6)(),se=(0,r.TH)(),ce=(0,h.sJ)(j.e),de=null!=(a=null==X?void 0:X.message)?a:O("EA4H.General.NotAvailableForSelectedDates"),ue=null==(c=null==(s=null==Q?void 0:Q[0])?void 0:s.ratesPerRoomConfig)?void 0:c[0].hitKey,me=(0,m.useIsMutating)({mutationKey:"addToBasket",predicate:e=>e.options.variables.request.hitkey===ue}),ve=l&&(0,D.h)([null==(d=null==M?void 0:M[0])?void 0:d.cheapestPrice,null==(u=null==M?void 0:M[0])?void 0:u.cheapestPriceNoLock])&&1===(null==(x=null==(y=null==H?void 0:H.accommodationSearch)?void 0:y.roomConfigs)?void 0:x.length)&&1===(null==Q?void 0:Q.length)&&1===(null==(k=Q[0].ratesPerRoomConfig)?void 0:k.length)&&!Q[0].ratesPerRoomConfig[0].isLocked;return n.createElement(G.J,{Room:e},n.createElement("div",null,n.createElement(Se.K,{backgroundUrl:null==(C=null==(P=e.images)?void 0:P[0])?void 0:C.url},n.createElement("div",{style:{zIndex:1,height:"max-content",alignSelf:"end",color:"#fff",display:"flex",justifyContent:"space-between"}},n.createElement("div",{onClick:()=>t(e.id),style:{cursor:"pointer",textShadow:"0px 1px 1px hsla(0,0%,0%,.35)",marginLeft:"30px",alignSelf:"end",marginBottom:"30px"}},n.createElement(Y.Q,{style:{color:"#fff"}},e.name),l&&M&&(null==M?void 0:M.length)>0&&n.createElement(ye,{room:null==M?void 0:M[0]}),n.createElement(re.cJ,{style:{marginTop:"10px"},maxLines:2,dangerouslySetInnerHTML:{__html:null!=(b=(0,N.ju)(e.shortDescription))?b:""}}),n.createElement(he,null,(0,te.X)(e,O).map((e=>n.createElement(Ee,{key:e.displayName,label:e.displayName,icon:e.icon}))))),n.createElement("div",{style:{display:"flex",flexDirection:"column",minWidth:"150px",marginRight:"30px",gap:"15px",marginBottom:"30px",marginLeft:"30px",justifyContent:"end"}},n.createElement(S.z,{isLoading:L,onClick:()=>t(e.id),withIcon:!0},O("EA4H.General.MoreInfo"),n.createElement(E.G,{icon:f.faCircleInfo})),l&&(null==H?void 0:H.roomsResult)&&n.createElement(I.t,{rightArrow:(null==ee?void 0:ee.preventSinglePriceListResult)&&ve,disabledMessage:de,isLoading:L||(null==ee?void 0:ee.preventSinglePriceListResult)&&ve&&me>0,isDisabled:T,onClick:()=>{return l=void 0,n=null,t=function*(){var l;(null==ee?void 0:ee.preventSinglePriceListResult)&&ve?yield le.mutateAsync({request:{hitkey:Q[0].ratesPerRoomConfig[0].hitKey,nrOfUnits:1,resultId:null==H?void 0:H.resultId,useExistingBasket:!1},gtmInfo:{productPrice:null==(l=Q[0].ratesPerRoomConfig[0].totalPrice)?void 0:l.priceInclVAT,productId:e.id,productName:e.name,productCategory:"Accommodation"}},{onSuccess:()=>{(0,q.D)(ne.APIClient,ne.channelId,ie,ae,se.pathname.toLowerCase(),oe,ce,+ne.languageId)}}):o(e.id)},new Promise(((e,o)=>{var i=e=>{try{a(t.next(e))}catch(e){o(e)}},r=e=>{try{a(t.throw(e))}catch(e){o(e)}},a=l=>l.done?e(l.value):Promise.resolve(l.value).then(i,r);a((t=t.apply(l,n)).next())}));var l,n,t},isSelected:(null==J?void 0:J.isExpanded)&&(null==J?void 0:J.roomId)===e.id})))),l&&(0,D.h)([null==(A=null==M?void 0:M[0])?void 0:A.cheapestPrice,null==(F=null==M?void 0:M[0])?void 0:F.cheapestPriceNoLock])&&n.createElement(v.U,{in:!0===(null==J?void 0:J.isExpanded)&&(null==J?void 0:J.roomId)===e.id},n.createElement("div",{style:{position:"relative"}},n.createElement(g.u,{rates:Q})))))};var Ie=o(59888),ke=o(20628),Pe=o(73576),Ce=o(9453),be=Object.defineProperty,we=Object.getOwnPropertySymbols,Ae=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable,Fe=(e,l,o)=>l in e?be(e,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[l]=o;const Oe=e=>{var l,o=e,{preventSinglePriceListResult:t}=o,r=((e,l)=>{var o={};for(var n in e)Ae.call(e,n)&&l.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&we)for(var n of we(e))l.indexOf(n)<0&&Re.call(e,n)&&(o[n]=e[n]);return o})(o,["preventSinglePriceListResult"]);const a=(0,i.Fg)();return n.createElement(Ce.S,{boundaryName:`RoomList_PresentationType_${null!=(l=r.presentationTypeOverride)?l:a.style.accommodationPresentationType}`},n.createElement(p._,{preventSinglePriceListResult:t},n.createElement(He,((e,l)=>{for(var o in l||(l={}))Ae.call(l,o)&&Fe(e,o,l[o]);if(we)for(var o of we(l))Re.call(l,o)&&Fe(e,o,l[o]);return e})({},r))))},He=({rooms:e,hideUnavailable:l,withPrices:o,preventSinglePriceListResult:a,presentationTypeOverride:c,onRoomInfoClickedOverride:m})=>{let v=(0,h.sJ)(w.l);const p=(0,h.sJ)(ke.x),g=(0,h.Zl)(B.V),y=(0,h.sJ)(Pe.g),f=(0,i.Fg)(),E=(0,r.k6)(),S=(0,t.useMediaQuery)({query:f.mediaQueries.verySmall}),x=(0,t.useMediaQuery)({query:f.mediaQueries.small});let I=s()(e,(e=>e.rank));y&&(I=I.filter((e=>!e.typeOfAccommodation||y.includes(e.typeOfAccommodation))));const k=e=>{g((l=>(null==l?void 0:l.roomId)===e?{roomId:e,isExpanded:!l.isExpanded}:{roomId:e,isExpanded:!0}))},P=e=>{m?m(e):E.push(`/accommodation/room-info/${e}`)},C=null!=c?c:f.style.accommodationPresentationType;if((null==v?void 0:v.roomsResult)&&l&&(I=I.filter((e=>{var l;return null==(l=null==v?void 0:v.roomsResult)?void 0:l.some((l=>{var o;return l.roomId===e.id&&(null!=(o=l.nrAvailable)?o:0)>0}))})),"Package"===(null==p?void 0:p.objectType)&&(I=I.filter((e=>{var l;return null==(l=null==v?void 0:v.roomsResult)?void 0:l.some((l=>{var o;return l.roomId===e.id&&(null!=(o=l.nrAvailable)?o:0)>0&&l.isPackage}))})))),(null==v?void 0:v.roomsResult)&&o)if("Package"===(null==p?void 0:p.objectType))(null==v?void 0:v.searchResultSortOrder)===Ie.Q7.Price?I=s()(I,(e=>{var l,o,n;return null!=(n=null==(o=null==(l=null==v?void 0:v.roomsResult)?void 0:l.find((l=>{var o;return l.isPackage&&(null==(o=l.rateAlternatives)?void 0:o.some((e=>e.packageId===p.objectId)))&&l.roomId===e.id})))?void 0:o.cheapestPriceNoLock)?n:1/0})):(null==v?void 0:v.searchResultSortOrder)===Ie.Q7.Rank&&(I=s()(I,(e=>{var l,o;return null==(o=null==(l=null==v?void 0:v.roomsResult)?void 0:l.find((l=>{var o;return l.isPackage&&(null==(o=l.rateAlternatives)?void 0:o.some((e=>e.packageId===p.objectId)))&&l.roomId===e.id})))?void 0:o.roomRank})));else{let e=I.filter((e=>{var l;return null==(l=null==v?void 0:v.roomsResult)?void 0:l.find((l=>{var o;return l.roomId===e.id&&(null!=(o=l.nrAvailable)?o:0)>0}))})),l=I.filter((e=>{var l;return null==(l=null==v?void 0:v.roomsResult)?void 0:l.filter((l=>l.roomId===e.id)).every((e=>0===e.nrAvailable))}));const o=s()(l,(e=>e.rank)),n=(null==v?void 0:v.searchResultSortOrder)===Ie.Q7.Price?(0,N.E8)(e,v):s()(e,(e=>e.rank));I=[...n,...o]}if(C===Ie.HH.Plate)return n.createElement(u.j,null,I.map((e=>n.createElement(ge.j,{onMoreInfoClicked:P,onTogglePrices:k,showPrice:o,key:e.id,room:e}))));if(C===Ie.HH.TileLarge)return S?n.createElement(u.j,null,I.map((e=>n.createElement(Z,{onMoreInfoClicked:P,onTogglePrices:k,key:e.id,columnCount:1,showPrice:o,rooms:[e]})))):n.createElement(u.j,null,I.map((e=>n.createElement(xe,{onMoreInfoClicked:P,onTogglePrices:k,showPrice:o,key:e.id,room:e}))));if(C===Ie.HH.Tile){if(S)return n.createElement(u.j,null,I.map((e=>n.createElement(Z,{onMoreInfoClicked:P,onTogglePrices:k,key:e.id,columnCount:1,showPrice:o,rooms:[e]}))));if(x)return n.createElement(u.j,null,I.map((e=>n.createElement(xe,{onMoreInfoClicked:P,onTogglePrices:k,showPrice:o,key:e.id,room:e}))));let e=d()(I,2);return n.createElement(u.j,null,e.map((e=>n.createElement(Z,{onMoreInfoClicked:P,onTogglePrices:(e,l,o)=>k(e),columnCount:2,key:e[0].id,showPrice:o,rooms:e}))))}return n.createElement(u.j,null,I.map(((e,l)=>n.createElement(n.Fragment,{key:e.id},n.createElement(pe,{onMoreInfoClicked:P,showPrice:o,key:e.id,room:e}),l!==I.length-1&&n.createElement("hr",{style:{height:f.css.dividerBorderWidth,border:0,margin:0,width:"100%",background:f.css.dividerBorderColor}})))))}}}]);
/*! For license information please see 665.e81836b9f597146df78e.bundle.js.LICENSE.txt */
"use strict";(this.webpackChunkBV=this.webpackChunkBV||[]).push([[665],{87913:function(e,n,t){t.d(n,{T:function(){return i}});var o=t(20399),l=t(8051),a=t(41347);const i=e=>{const n=(0,l.useContext)(a.y);return(0,o.useQuery)(["checkoutSettings",e],(()=>n.APIClient.checkoutV1(void 0,n.channelId)),{refetchOnWindowFocus:!1,suspense:!0})}},86903:function(e,n,t){t.d(n,{E:function(){return a}});var o=t(20399),l=t(41347);const a=e=>{const n=(0,l.g)();let t=window.location.protocol+"//"+window.location.hostname;return(0,o.useQuery)(["online_payment_methods",n.channelId],(()=>n.APIClient.basketsOnlinePaymentMethodsV1(t,n.channelId)),{suspense:!0,cacheTime:0,refetchOnWindowFocus:!1,enabled:e})}},12425:function(e,n,t){t.d(n,{CD:function(){return l},Ci:function(){return r},Nw:function(){return i},yX:function(){return a}});var o=t(24972);(0,o.cn)({key:"responsibleForBookingState",default:void 0});const l=(0,o.cn)({key:"selectedPaymentTypeOptionState",default:void 0}),a=(0,o.cn)({default:{email:"",password:"",verified:!1},key:"willBecomeMemberState"}),i=(0,o.cn)({key:"selectedCCState",default:void 0}),r=(0,o.cn)({key:"checkout_specialRequestState",default:""})},26101:function(e,n,t){t.d(n,{A:function(){return c},m:function(){return d}});var o=t(8051),l=t(59888),a=t(87262),i=t(87913),r=t(86903);const d=(0,o.createContext)({}),c=({children:e,bookingCode:n,onSuccessfulCheckout:t,corpCustomerDefaultChecked:c})=>{var u,s,m,v,p,g,f;const{data:y}=(0,i.T)(n),{data:b}=(0,a.K)(),h=(null==(u=null==y?void 0:y.paymentConfig)?void 0:u.paymentPolicyOption)===l.wp.PrePaidAtTheTimeOfTheBooking||(null==(s=null==y?void 0:y.paymentConfig)?void 0:s.paymentPolicyOption)===l.wp.GuaranteeRequired&&Boolean(null==(m=null==y?void 0:y.paymentConfig)?void 0:m.enablePaymentMethodUpgrade),{data:k}=(0,r.E)(h),E=Boolean(null==(p=null==(v=null==b?void 0:b.booking)?void 0:v.bookingData)?void 0:p.isAgentBooking),P=Boolean(null==(f=null==(g=null==b?void 0:b.booking)?void 0:g.bookingData)?void 0:f.isMpAgentBooking),A=o.useMemo((()=>({onlinePaymentMethods:k,checkoutSettings:y,onlinePaymentMethodsEnabled:h,bookingCode:n,isAgentBooking:E,isMPAgentBooking:P,onSuccessfulCheckout:t,corpCustomerDefaultChecked:Boolean(c)})),[k,y,h,n,E,P,t]);return o.createElement(d.Provider,{value:A},e)}},3913:function(e,n,t){t.d(n,{Pi:function(){return s},f:function(){return u},zR:function(){return c}});var o=t(59888),l=t(26101),a=t(24972),i=t(12425),r=t(87262),d=t(8051);const c=(e,n,t)=>{return o=void 0,l=null,a=function*(){try{const t=yield new Promise(((n,t)=>{const o=new XMLHttpRequest;o.open("GET","https://www.googleapis.com/oauth2/v3/userinfo"),o.setRequestHeader("Authorization",`Bearer ${e}`),o.onload=function(){this.status>=200&&this.status<300?n(JSON.parse(this.responseText)):t()},o.send()}));n({firstName:t.given_name,lastName:t.family_name,emailAddress:t.email})}catch(e){null==t||t()}},new Promise(((e,n)=>{var t=e=>{try{r(a.next(e))}catch(e){n(e)}},i=e=>{try{r(a.throw(e))}catch(e){n(e)}},r=n=>n.done?e(n.value):Promise.resolve(n.value).then(t,i);r((a=a.apply(o,l)).next())}));var o,l,a},u=e=>{var n;return null!=(n=null==e?void 0:e.map((e=>e.amount)).reduce(((e,n)=>e+n),0))?n:0},s=()=>{var e,n,t,c,s,m,v,p,g,f,y,b,h,k,E,P,A,x;const{data:T}=(0,r.K)(),C=(0,d.useContext)(l.m),B=(0,a.sJ)(i.CD);let I=B===o.ci.DownPayment?null==(e=null==C?void 0:C.onlinePaymentMethods)?void 0:e.downPaymentAmount:B===o.ci.PayLater?0:null==(n=null==C?void 0:C.onlinePaymentMethods)?void 0:n.fullPaymentAmount,R=Math.round((null!=I?I:0)-(null!=(s=null==(c=null==(t=null==T?void 0:T.booking)?void 0:t.bookingData)?void 0:c.alreadyPayed)?s:0));const w=u(null!=(g=null==(p=null==(v=null==(m=null==T?void 0:T.booking)?void 0:m.bookingData)?void 0:v.giftcardPayments)?void 0:p.giftCardPaymentInfo)?g:[]);return((null!=(b=null==(y=null==(f=null==T?void 0:T.booking)?void 0:f.bookingData)?void 0:y.alreadyPayed)?b:0)<=0||(null==(P=null==(E=null==(k=null==(h=null==T?void 0:T.booking)?void 0:h.bookingData)?void 0:k.paymentPolicyInformations)?void 0:E[0])?void 0:P.paymentPolicyOption)==o.wp.PrePaidAtTheTimeOfTheBooking&&(null==(x=null==(A=null==T?void 0:T.booking)?void 0:A.bookingData)?void 0:x.fincancialsOrgIdExists))&&(R-=w),R}},7802:function(e,n,t){t.d(n,{r:function(){return g}});var o=t(8051),l=t(12263),a=t(30492),i=t(40387),r=t(39545),d=t(82795),c=t(2838),u=t(84525),s=t(63847),m=t(41347),v=t(79660),p=t(61685);const g=({bookingData:e,conferenceRoom:n,paddingTop:t})=>{var g,f,y,b,h,k,E;const P=(0,l.Fg)(),A=(0,i.H)(),x=null==(g=null==e?void 0:e.conferenceRoomDescriptions)?void 0:g.find((e=>e.id===(null==n?void 0:n.conferenceRoomId))),T=null==(f=null==e?void 0:e.conferenceRateDescriptions)?void 0:f.find((e=>e.id===(null==n?void 0:n.conferenceRatePlanId))),C=(0,o.useContext)(m.y),B=(0,r.$)(),{data:I}=(0,a.jF)(),R=(0,v._)(null==n?void 0:n.includedAddOns),w=(0,v._)(null==n?void 0:n.imageIds)?`${C.imageServer}${null==n?void 0:n.imageIds[0]}`:void 0;return(null==(y=e.conferenceRooms)?void 0:y.length)?o.createElement("div",{style:{width:"100%",paddingTop:null!=t?t:0}},o.createElement("div",{style:{display:"flex",gap:"15px",alignItems:"center",marginBottom:"20px"}},o.createElement("div",{style:{backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"50px",height:"50px",backgroundImage:`url(${w}.png)`}}),o.createElement("div",null,o.createElement(d.A,{bold:!0,style:{color:P.css.sidebarColor}},null==x?void 0:x.name),o.createElement(d.A,{small:!0,isSidebarText:!0,muted:!0},A("EA4H.General.Max{0}Persons",null==n?void 0:n.maxPersons)))),o.createElement(u.Q4,null,o.createElement(s.Z,{accentedBackground:!0,isSidebarText:!0,muted:!0,small:!0},(0,v._)(e.conferenceRooms,2)?A("EA4H.General.Periods"):A("EA4H.General.Period"),":"),o.createElement(s.Z,{accentedBackground:!0,isSidebarText:!0,small:!0,style:{paddingRight:"10px",paddingLeft:"10px"}},null==(h=null==(b=e.conferenceRooms)?void 0:b.filter((e=>e.conferenceRoomId===(null==n?void 0:n.conferenceRoomId))))?void 0:h.map(((e,n)=>{var t,l;return o.createElement(o.Fragment,{key:n},(0,c.Z)(new Date(e.date),"dd")," ",(0,p.Z)(A,new Date(e.date)),":"," ",e.occasionName,", ",null==(t=e.startTime)?void 0:t.substring(0,5)," - ",null==(l=e.endTime)?void 0:l.substring(0,5),o.createElement("br",null))}))),o.createElement(s.Z,{isSidebarText:!0,small:!0,muted:!0},A("EA4H.General.Participants"),":"),o.createElement(s.Z,{isSidebarText:!0,small:!0,style:{paddingRight:"10px"}},A("EA4H.Conference.XPersons",null!=(k=null==n?void 0:n.nrParticipants)?k:null==n?void 0:n.maxPersons)),o.createElement(s.Z,{accentedBackground:!0,isSidebarText:!0,small:!0,muted:!0},A("EA4H.General.RatePlan"),":"),o.createElement(s.Z,{isSidebarText:!0,accentedBackground:!0,small:!0,style:{paddingRight:"10px"}},null==T?void 0:T.name),R&&o.createElement(o.Fragment,null,o.createElement(s.Z,{isSidebarText:!0,small:!0,muted:!0},A("EA4H.General.Included"),":"),o.createElement(s.Z,{isSidebarText:!0,small:!0,style:{paddingRight:"10px"}},null==(E=null==n?void 0:n.includedAddOns)?void 0:E.map((e=>o.createElement(o.Fragment,{key:e},e,o.createElement("br",null)))))),o.createElement(s.Z,{accentedBackground:R,isSidebarText:!0,small:!0,muted:!0},A("EA4H.Conference.Furnishing"),":"),o.createElement(s.Z,{accentedBackground:R,isSidebarText:!0,small:!0,style:{paddingRight:"10px"}},Boolean(null==n?void 0:n.seatingTypeName)?null==n?void 0:n.seatingTypeName:A("EA4H.Conference.NotSelected"))),o.createElement("div",{style:{display:"flex",gap:"15px",justifyContent:"end"}},o.createElement(d.A,{isSidebarText:!0,small:!0,bold:!0},A("EA4H.General.Subtotal"),":"," ",B.format((()=>{var t,o,l,a;let i=Boolean(e.pricesIncludeVAT);Boolean(I)&&(i=null!=(t=null==I?void 0:I.amountsIncludeVAT)&&t);const r=null!=(l=null==(o=e.conferenceRooms)?void 0:o.reduce(((e,t)=>{var o,l,a;return t.conferenceRoomId===(null==n?void 0:n.conferenceRoomId)?e+(i?null!=(o=t.roomPrice)?o:0:(null!=(l=null==t?void 0:t.roomPrice)?l:0)-(null!=(a=null==t?void 0:t.vatAmount)?a:0)):e}),0))?l:0;let d=0;return null==(a=null==e?void 0:e.conferenceRooms)||a.forEach((n=>{d+=(n=>{var t,o,l,a,i,r,d;let c=Boolean(e.pricesIncludeVAT);Boolean(I)&&(c=null!=(t=null==I?void 0:I.amountsIncludeVAT)&&t);const u=null==(o=e.optionalAddOns)?void 0:o.filter((e=>e.internalRoomBookingId===n.internalBookingId));return(null!=(l=null==u?void 0:u.map((e=>{var n;return c?e.price:e.price-(null!=(n=e.vatAmount)?n:0)})).reduce(((e,n)=>e+n),0))?l:0)+(null!=(i=null==(a=e.optionalAddOnPackages)?void 0:a.flatMap((e=>{var t;return(null!=(t=e.basketAddOnPriceInfos)?t:[]).filter((e=>e.internalRoomBookingId===n.internalBookingId)).map((e=>{var n;return c?e.price:e.price-(null!=(n=e.vatAmount)?n:0)}))})).reduce(((e,n)=>e+n),0))?i:0)+(null!=(d=null==(r=null==n?void 0:n.mandatoryAddOns)?void 0:r.map((e=>{var n;return(c?e.price:e.price-(null!=(n=e.vatAmount)?n:0))*e.numberOfUnits})).reduce(((e,n)=>e+n),0))?d:0)})(n)})),r+d})())," ",e.currencyCode))):null}},41195:function(e,n,t){t.d(n,{C:function(){return r}});var o=t(8051),l=t(7802),a=t(79660),i=t(59888);const r=({bookingData:e,paddingTop:n})=>{var t,r;const d=null==(t=null==e?void 0:e.conferenceRooms)?void 0:t.filter((e=>e.roomType===i.LS.MeetingRoom)),c=Array.from(new Set(null==d?void 0:d.map((e=>e.conferenceRoomId)))).map((e=>null==d?void 0:d.find((n=>n.conferenceRoomId===e)))),u=(0,a._)(c);return o.createElement(o.Fragment,null,o.createElement(l.r,{bookingData:e,conferenceRoom:null==(r=null==e?void 0:e.conferenceRooms)?void 0:r.find((e=>!0)),paddingTop:n}),u&&(null==c?void 0:c.map((n=>o.createElement(l.r,{key:null==n?void 0:n.conferenceRoomId,bookingData:e,conferenceRoom:n})))))}},65665:function(e,n,t){t.d(n,{C:function(){return B}});var o=t(8051),l=t(12263),a=t(39545),i=t(40387),r=t(59154),d=t(35458),c=t(7402),u=t(82795),s=t(84525),m=t(64597),v=t(21568),p=t(48915),g=t(69933),f=t(1122),y=t(4386),b=t(9453),h=t(41195),k=t(24972),E=t(14739),P=t(3913),A=t(47311),x=t(8791),T=t(79660),C=t(59888);const B=({bookingData:e,cancelBookingRedirectPath:n,noCancelButton:t})=>{var B,I,R,w,S,D,O,H,$,F,G,Z,M,V;const j=(0,o.useContext)(x.VW),[_,L]=(0,k.FV)(E.w),{data:N}=(0,r.M)({roomIds:null==(B=null==e?void 0:e.rooms)?void 0:B.map((e=>e.roomId))}),q=(0,a.$)(),Q=(0,i.H)(),W=(0,l.Fg)(),{groupedAccommodationRooms:z}=(0,d.Z)(e),K=(0,T._)(null==e?void 0:e.conferenceRooms),J=e=>{L((n=>n.includes(e)?[...n.filter((n=>n!==e))]:[...n,e]))};if(!e)return o.createElement(c.c,{width:360,height:500});const U=[...null!=(R=null==(I=null==e?void 0:e.optionalAddOns)?void 0:I.filter((e=>!e.internalRoomBookingId)))?R:[],...null!=(S=null==(w=null==e?void 0:e.optionalAddOnPackages)?void 0:w.filter((e=>!e.internalRoomId)))?S:[]],X=Boolean(e.basketLevelDiscountInfo);let Y=null!=(D=e.alreadyPayed)?D:0;if(Y<=0||(null==(H=null==(O=null==e?void 0:e.paymentPolicyInformations)?void 0:O[0])?void 0:H.paymentPolicyOption)==C.wp.PrePaidAtTheTimeOfTheBooking&&(null==e?void 0:e.fincancialsOrgIdExists)){Y+=(0,P.f)(null!=(F=null==($=e.giftcardPayments)?void 0:$.giftCardPaymentInfo)?F:[])}const ee=Y>0;return o.createElement(b.S,{boundaryName:"BookingSummary"},o.createElement(s.TL,null,o.createElement(p.N,null,Q("EA4H.General.BookingSummary")),o.createElement(s.Nr,null,o.createElement(o.Suspense,{key:"cl_susp",fallback:o.createElement(c.c,{mt:15,height:300})},K&&o.createElement(h.C,{bookingData:e,paddingTop:"25px"}),z.map(((n,t)=>{var l,a;const i=null==(l=null==e?void 0:e.rooms)?void 0:l.find((e=>(0,A.K)(e)===n.key));return i?o.createElement(m.P,{toggledRooms:_,onToggleRoom:J,noTopBorder:0===t,BookingData:e,key:`${t}_${i.roomId}`,RoomIndex:t+1,Room:i,noTopPadding:0===t&&K,guestRoomInfo:null==(a=null==N?void 0:N.rooms)?void 0:a.find((e=>e.id===i.roomId)),quantity:n.value}):null})),U.length>0&&o.createElement(o.Suspense,{fallback:o.createElement(c.c,{height:60})},o.createElement(v.x,{bookingData:e,pricesIncludeVAT:null==(G=null==j?void 0:j.multiPropertyInfo)?void 0:G.amountsIncludeVAT})))),o.createElement("div",{style:{paddingBottom:"15px",paddingLeft:"25px",paddingRight:"25px"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},o.createElement(u.A,{large:!0,bold:!0,style:{color:W.css.sidebarColor}},Q("EA4H.General.TotalPrice"),":"),o.createElement(u.A,{large:!0,bold:!0,style:{color:W.css.sidebarColor}},q.format(e.pricesIncludeVAT?null==e?void 0:e.totalPrice:(null!=(ne=e.totalPrice)?ne:0)-(null!=(te=e.totalVATAmount)?te:0))," ",null==e?void 0:e.currencyCode)),o.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},o.createElement(u.A,{isSidebarText:!0,small:!0,muted:!0},Q("EA4H.General.IncludingVAT"),":"),o.createElement(u.A,{small:!0,muted:!0,isSidebarText:!0},q.format(null!=(Z=null==e?void 0:e.totalVATAmount)?Z:0)," ",null==e?void 0:e.currencyCode)),(X||ee)&&o.createElement("hr",{style:{height:W.css.dividerBorderWidth,border:0,margin:0,marginBottom:"5px",marginTop:"5px",width:"100%",background:W.css.dividerBorderColor}}),ee&&o.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},o.createElement(u.A,{isSidebarText:!0,small:!0,muted:!0},Q("EA4H.General.AlreadyPaid")),o.createElement(u.A,{small:!0,muted:!0,isSidebarText:!0},q.format(Y)," ",null==e?void 0:e.currencyCode)),X&&o.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},o.createElement(u.A,{isSidebarText:!0,small:!0,muted:!0},null==(M=e.basketLevelDiscountInfo)?void 0:M.basketLevelDiscountDisplayText),o.createElement(u.A,{small:!0,muted:!0,isSidebarText:!0},"-",null==(V=e.basketLevelDiscountInfo)?void 0:V.totalBasketLevelDiscount," ",null==e?void 0:e.currencyCode))),o.createElement(y.K,{pl:25,pr:25,pb:30,spacing:6},o.createElement(g.H,{bookingData:e}),!t&&o.createElement(f._,{redirectPath:n}))));var ne,te}},1122:function(e,n,t){t.d(n,{_:function(){return h}});var o=t(8051),l=t(20291),a=t(24972),i=t(82795),r=t(47833),d=t(80249),c=t(20399),u=t(84525),s=t(20628),m=t(40387),v=t(99301),p=t(82361),g=t(66656),f=t(82061),y=t(13163),b=t(3328);const h=({redirectPath:e})=>{const n=(0,a.Zl)(y.g),t=(0,a.sJ)(s.x),h=(0,p.Z)(),k=(0,g.o)(),E=(0,m.H)(),P=(0,l.k6)(),A=(0,c.useQueryClient)(),{data:x}=(0,v.E)(),T=(0,b.F)(),C=()=>{return o=void 0,l=null,a=function*(){k.closeAll(),(0,f.U)(),setTimeout((()=>{A.setQueryData(["basket",null==x?void 0:x.channelId],(e=>{}))}),500);let o=void 0!==e?e:"Package"===(null==t?void 0:t.objectType)||"Campaign"===(null==t?void 0:t.objectType)?"/package":"/accommodation";n(""),yield T(),P.push(o)},new Promise(((e,n)=>{var t=e=>{try{r(a.next(e))}catch(e){n(e)}},i=e=>{try{r(a.throw(e))}catch(e){n(e)}},r=n=>n.done?e(n.value):Promise.resolve(n.value).then(t,i);r((a=a.apply(o,l)).next())}));var o,l,a};return o.createElement(u.Sn,{onClick:()=>{h.open({confirmFunction:C,question:`${E("EA4H.General.CancelBookingAndReturnToStartPage")}?`,title:E("EA4H.General.CancelBooking")})}},o.createElement(r.G,{style:{height:"15px",width:"15px"},icon:d.YI}),o.createElement(i.A,{as:"span",small:!0,style:{textAlign:"left",textDecoration:"underline",color:"inherit"}},E("EA4H.General.CancelBookingAndReturnToStartPage")))}},69933:function(e,n,t){t.d(n,{H:function(){return h}});var o=t(8051),l=t(47833),a=t(69389),i=t(82795),r=t(84525),d=t(24972),c=t(91696),u=t(40387),s=t(88718),m=Object.defineProperty,v=Object.defineProperties,p=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,b=(e,n,t)=>n in e?m(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;const h=({bookingData:e})=>{var n,t;const m=(0,d.Zl)(c.C),h=(0,s.Z)(),k=(0,u.H)(),E=null==(n=null==e?void 0:e.cancellationPolicyDescriptions)?void 0:n[0],P=null==(t=null==e?void 0:e.paymentPolicyInformations)?void 0:t[0];return o.createElement(o.Fragment,null,E&&P?o.createElement(r.Sn,{style:{textAlign:"left"},onClick:()=>{E&&P&&(m((e=>{return n=((e,n)=>{for(var t in n||(n={}))f.call(n,t)&&b(e,t,n[t]);if(g)for(var t of g(n))y.call(n,t)&&b(e,t,n[t]);return e})({},e),v(n,p({show:!1}));var n})),h.open({cancellationPolicy:E,paymentPolicy:P}))}},o.createElement(l.G,{style:{height:"15px",width:"15px"},icon:a.sq}),o.createElement(i.A,{as:"span",small:!0,style:{textDecoration:"underline",color:"inherit"}},k("EA4H.General.RulesForPaymentAndCancellation"))):null)}},48915:function(e,n,t){t.d(n,{N:function(){return l}});var o=t(12263);const l=o.ZP.div`
  ${({theme:e})=>o.iv`
    background: ${e.css.sidebarHeaderBackground};
    color: ${e.css.sidebarHeaderColor};
    font-size: ${e.css.subtitleFontSmaller};
    font-weight: ${e.css.subtitleFontWeight};
    text-transform: ${e.css.subtitleTextTransform};
    font-family: ${e.css.subtitleFontFamily};
    line-height: ${e.css.subtitleLineHeight};
  `}

  padding-left: 25px;
  padding-right: 25px;

  @media ${({theme:e})=>e.mediaQueries.small} {
    color: ${({theme:e})=>e.css.sidebarColor};
    background: ${({theme:e})=>e.css.sidebarContentBackground};
    text-align: center;
    padding-top:20px;

    ${({hideWhenSmall:e})=>e&&o.iv`
        display: none;
    `}
  }

  @media ${({theme:e})=>e.mediaQueries.large} {
    border-bottom: ${({theme:e})=>`${e.css.sidebarHeaderBottomBorderWidth} solid ${e.css.sidebarHeaderBottomBorderColor}`};
    padding-top: 15px;
    padding-bottom: 15px;
  }
`}}]);
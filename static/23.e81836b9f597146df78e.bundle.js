/*! For license information please see 23.e81836b9f597146df78e.bundle.js.LICENSE.txt */
"use strict";(this.webpackChunkBV=this.webpackChunkBV||[]).push([[23],{2460:function(e,t,n){n.d(t,{u:function(){return o}});var l=n(59888);const o=(e,t)=>{var n,o,r,a,i,d,s,c,u,m;const p=[];if(!e)return p;const v=[];if(null==(n=e.rooms)||n.forEach((t=>{var n,l,o,r;v.push({item_id:t.roomId,item_name:null==(l=null==(n=null==e?void 0:e.roomDescriptions)?void 0:n.find((e=>e.id===t.roomId)))?void 0:l.name,price:t.totalPrice,quantity:1,item_category:"Room",item_brand:null!=(r=null==(o=e.hotelInformation)?void 0:o.name)?r:"N/A",affiliation:"EasyAccess for Hotels Online"})})),null==(o=null==e?void 0:e.optionalAddOns)||o.forEach((t=>{var n,l,o,r,a;v.push({item_id:t.addOnId,item_name:null==(l=null==(n=null==e?void 0:e.addOnDescriptions)?void 0:n.find((e=>e.id===t.addOnId)))?void 0:l.name,price:t.price,item_category:"Addon",affiliation:"EasyAccess for Hotels Online",item_brand:null!=(r=null==(o=e.hotelInformation)?void 0:o.name)?r:"N/A",quantity:null!=(a=t.numberOfUnits)?a:"N/A"})})),null==(r=null==e?void 0:e.rooms)||r.forEach((t=>{var n;null==(n=t.mandatoryAddOns)||n.forEach((t=>{var n,l,o,r,a;v.push({item_id:t.addOnId,item_name:null==(l=null==(n=null==e?void 0:e.addOnDescriptions)?void 0:n.find((e=>e.id===t.addOnId)))?void 0:l.name,price:t.price,item_category:"Addon",affiliation:"EasyAccess for Hotels Online",item_brand:null!=(r=null==(o=e.hotelInformation)?void 0:o.name)?r:"N/A",quantity:null!=(a=t.numberOfUnits)?a:"N/A"})}))})),null==(a=null==e?void 0:e.rooms)||a.forEach((t=>{var n;null==(n=t.mandatoryAddOnPackages)||n.forEach((t=>{var n,l,o,r,a;null==v||v.push({item_id:t.addOnPackageId,item_name:null==(l=null==(n=null==e?void 0:e.addOnPackageDescriptions)?void 0:n.find((e=>e.id===t.addOnPackageId)))?void 0:l.name,price:null==(o=t.basketAddOnPriceInfos)?void 0:o.reduce(((e,t)=>e+t.price),0),item_category:"AddonPackage",affiliation:"EasyAccess for Hotels Online",item_brand:null!=(a=null==(r=e.hotelInformation)?void 0:r.name)?a:"N/A"})}))})),null==(i=null==e?void 0:e.conferenceRooms)||i.forEach((t=>{var n,l,o,r,a,i,d;v.push({item_id:null!=(n=t.conferenceRoomId)?n:"N/A",item_name:null!=(l=t.roomName)?l:"N/A",price:null!=(o=t.totalPrice)?o:"N/A",item_category:"Conference Room",quantity:1,item_category2:null!=(a=null==(r=t.date)?void 0:r.toString())?a:"N/A",item_brand:null!=(d=null==(i=e.hotelInformation)?void 0:i.name)?d:"N/A"})})),t===l.Jr.Supplier){return[{item_id:null!=(d=e.channelId)?d:"N/A",item_name:null!=(c=null==(s=e.hotelInformation)?void 0:s.name)?c:"N/A",item_brand:null!=(m=null==(u=e.hotelInformation)?void 0:u.name)?m:"N/A",price:p.reduce(((e,t)=>{var n;return e+Number(null!=(n=t.price)?n:0)}),0),affiliation:"EasyAccess for Hotels Online",quantity:1}]}return v}},35023:function(e,t,n){n.r(t),n.d(t,{default:function(){return il}});var l=n(8051),o=n(93806),r=n(12263),a=n(24972),i=n(9292),d=n(65665),s=n(69083),c=n(7402),u=n(26101),m=n(85676),p=n(41237),v=n(82795);var g=l.forwardRef((({title:e,children:t,id:n,noBottomPadding:o,useTopPadding:a},i)=>{const d=(0,r.Fg)();return l.createElement(m.W,{ref:i,id:n,pl:0,pr:0,pt:a?50:0,pb:o?0:40,m:0,fluid:!0,style:{scrollMarginTop:"20px"}},Boolean(e)&&l.createElement(p.es,null,l.createElement("hr",{style:{height:d.css.dividerBorderWidth,border:0,margin:0,width:"100%",background:d.css.dividerBorderColor}}),l.createElement(v.A,{bold:!0,muted:!0,style:{display:"inline-block",whiteSpace:"nowrap",padding:"0px 15px"}},e),l.createElement("hr",{style:{height:d.css.dividerBorderWidth,border:0,margin:0,width:"100%",background:d.css.dividerBorderColor}})),t)})),f=n(11890),y=n(47833),h=n(86041),E=n(32972),C=n(48770);const b=r.ZP.img`
${({solid:e})=>!e&&r.iv`
    opacity:.2;
`}

transition: opacity .2s;

${({blink:e})=>e&&r.iv`
    animation: pulse 1.4s infinite;
`}

@keyframes pulse {
    20%,
    80% {
    opacity:.2
    }
    50% {
    opacity:1
    }
}
}
`,k=r.ZP.div`
    margin-top: 10px;
    display: flex;
    gap: 10px;

    > ${C.z} {
        width: max-content;
    }

    @media ${({theme:e})=>e.mediaQueries.verySmall} {
        flex-direction:column;

        > ${C.z} {
            width: auto;
            max-width:none;
        }
    }
`;var A=n(40387);const I=()=>{var e,t,n,o,r,i;const d=(0,l.useContext)(u.m),s=(0,A.H)(),c=(0,a.sJ)(E.o),m=(0,a.sJ)(h.l),v=null==(t=null==(e=null==d?void 0:d.checkoutSettings)?void 0:e.membershipCheckoutConfig)?void 0:t.myPageDetails,g=null==v?void 0:v.nrOfNightsNeededForVoucher,f=null!=(n=null==v?void 0:v.stampsCollected)?n:0,y=null!=(r=null==(o=null==m?void 0:m.accommodationSearch)?void 0:o.numberOfNights)?r:0,C=null==v?void 0:v.voucherValue,k=null==(i=null==d?void 0:d.onlinePaymentMethods)?void 0:i.currency,I=`${c}${null==v?void 0:v.loyaltyProgramStampLogoImageId}.png?maxwidth=100&amp;maxheight=100&amp;scale=downscaleonly`;return l.createElement(p.Zb,{style:{padding:"20px",textAlign:"center"}},l.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"15px",flexWrap:"wrap",marginBottom:"15px"}},Array(g).fill(null).map(((e,t)=>{const n=t<(null!=f?f:0);return l.createElement(b,{width:"30px",src:I,solid:n,blink:!n&&t<f+y})}))),l.createElement(p.SK,{bold:!0,style:{marginBottom:"5px"}},s("EA4H.General.{0}Of{1}StampsCollected",f,g)),l.createElement(p.SK,null,s("EA4H.General.AfterPurchaseGet{0}Stamps{1}StampsGives{2}{3}ForFree",y,g,C,k)))};var x=n(12425),P=n(75284),S=n(92440);const w=({iconPadding:e,iconBackgroundColor:t,color:n,backgroundColor:a,borderColor:i,icon:d,title:s,descriptionText:c,descriptionElement:u,children:m,titleIcon:v})=>{const g=(0,r.Fg)(),f=(0,o.useMediaQuery)({query:g.mediaQueries.verySmall});return l.createElement(S.Dy,{color:n,backgroundColor:a,borderColor:i},l.createElement(S.iN,null,d&&l.createElement(S.sC,{background:t,padding:e},d),l.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"4px"}},l.createElement(p.SK,{bold:!0,style:{display:"flex",gap:"8px",alignItems:"center",color:n}},v,s),!f&&l.createElement(l.Fragment,null,Boolean(c)&&l.createElement(p.SK,{style:{marginBottom:"10px"}},c),u,m))),f&&l.createElement(l.Fragment,null,Boolean(c)&&l.createElement(p.SK,{style:{marginBottom:"10px"}},c),u,m))};var N=n(66656),F=n(61282),H=n(82422),T=n(47988),B=n(59888),D=n(32326),O=Object.defineProperty,G=Object.defineProperties,$=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,L=(e,t,n)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W=(e,t)=>{for(var n in t||(t={}))_.call(t,n)&&L(e,n,t[n]);if(R)for(var n of R(t))M.call(t,n)&&L(e,n,t[n]);return e},q=(e,t)=>G(e,$(t));const j=({InfoText:e})=>{var t,n,o,r;const i=(0,N.o)(),d=(0,A.H)(),[s,c]=(0,l.useState)(!1),m=(0,l.useContext)(u.m),{checkoutSettings:g}=m,f=(0,D.c)(),[y,h]=(0,a.FV)(x.yX),E=l.useMemo((()=>({[B.bJ.AlreadyMember]:d("EA4H.General.Error.MemberWithThisEmailAlreadyExists"),[B.bJ.UnknownError]:d("EA4H.General.Error.UnKnownError")})),[]),C=null==(t=f.validateNewMember.data)?void 0:t.errorType,b=void 0!==C?E[C]:"";return l.createElement(l.Fragment,null,l.createElement(F.Z,{onCloseClicked:()=>i.closeModal("become_member"),modalName:"BecomeMember"},l.createElement(p.Dx,{style:{color:"inherit"}},d("EA4H.General.BecomeMember")),l.createElement(v.A,{style:{marginTop:"10px",color:"inherit"}},e),l.createElement("div",{style:{display:"flex",flexDirection:"column",marginTop:"20px",gap:"10px"}},l.createElement(p.II,{required:!0,value:y.email,onChange:e=>h((t=>q(W({},t),{email:e.target.value}))),placeholder:d("EA4H.Online.Email")}),l.createElement(p.II,{required:!0,value:y.password,onChange:e=>h((t=>q(W({},t),{password:e.target.value}))),placeholder:d("EA4H.General.Password"),type:"password"}),l.createElement(H.Z,{id:"terms_and_conditions_cb",Label:l.createElement(V,{linkUrl:null==(o=null==(n=null==g?void 0:g.membershipCheckoutConfig)?void 0:n.myPageDetails)?void 0:o.membershipSignupTermAndConditionsUrl}),isChecked:s,onChange:e=>c(e.currentTarget.checked)}),l.createElement(T.w,{onPopoverClose:()=>f.validateNewMember.reset,popoverText:b,showPopover:f.validateNewMember.isError||!1===(null==(r=f.validateNewMember.data)?void 0:r.success),onClick:()=>{y.email&&y.password&&f.validateNewMember.mutate({email:y.email},{onSuccess:e=>{e.success?(h((e=>q(W({},e),{verified:!0}))),i.closeModal("become_member")):h((e=>q(W({},e),{verified:!1})))}})},style:{alignSelf:"end",width:"max-content"}},d("EA4H.General.BecomeMember")))))},V=({linkUrl:e})=>{const t=(0,A.H)();return l.createElement("a",{href:e},t("EA4H.MyPage.AcceptedTermsAndConditions"))};var J=n(56898),Z=Object.defineProperty,K=Object.defineProperties,z=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,X=(e,t,n)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ee="become_member";var te=()=>{const e=(0,N.o)();return{open:({InfoText:t})=>{var n;e.openModal((n=((e,t)=>{for(var n in t||(t={}))Q.call(t,n)&&X(e,n,t[n]);if(U)for(var n of U(t))Y.call(t,n)&&X(e,n,t[n]);return e})({modalId:ee,children:l.createElement(j,{InfoText:t}),classNames:{inner:"bv_modal_inner",content:"bv_modal_modal bv_modal_autowidth",root:"bv_modal_root"}},J.$),K(n,z({onClick:()=>e.closeModal(ee)}))))},close:(0,l.useCallback)((()=>{try{e.closeModal(ee)}catch(e){}}),[])}},ne=n(63711);const le=({InfoText:e})=>{const t=(0,N.o)(),n=(0,A.H)(),[o,a]=l.useState(""),[i,d]=l.useState(""),s=(0,r.Fg)();return l.createElement(l.Fragment,null,l.createElement(F.Z,{onCloseClicked:()=>t.closeModal("member_login"),modalName:"MemberLogin_Modal"},l.createElement(p.Dx,{style:{color:"inherit"}},n("EA4H.General.Login")),l.createElement(v.A,{style:{marginTop:"10px",color:"inherit"}},e),l.createElement("div",{style:{display:"flex",flexDirection:"column",marginTop:"10px",gap:"10px"}},l.createElement(p.II,{value:o,onChange:e=>a(e.target.value),placeholder:"Email"}),l.createElement(p.II,{value:i,onChange:e=>d(e.target.value),placeholder:"Password",type:"password"}),l.createElement(ne.z,{style:{alignSelf:"end",width:"max-content"}},n("EA4H.General.Login"))),l.createElement("hr",{style:{margin:"20px 0px",height:s.css.dividerBorderWidth,border:0,width:"100%",background:s.css.dividerBorderColor}}),l.createElement(ne.z,{variant:"text",onClick:()=>{alert("not implemented")}},n("EA4H.General.ForgotPassword"))))};var oe=Object.defineProperty,re=Object.defineProperties,ae=Object.getOwnPropertyDescriptors,ie=Object.getOwnPropertySymbols,de=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable,ce=(e,t,n)=>t in e?oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ue="member_login";var me=()=>{const e=(0,N.o)();return{open:({InfoText:t})=>{var n;e.openModal((n=((e,t)=>{for(var n in t||(t={}))de.call(t,n)&&ce(e,n,t[n]);if(ie)for(var n of ie(t))se.call(t,n)&&ce(e,n,t[n]);return e})({modalId:ue,children:l.createElement(le,{InfoText:t}),classNames:{inner:"bv_modal_inner",content:"bv_modal_modal bv_modal_autowidth",root:"bv_modal_root"}},J.$),re(n,ae({onClick:()=>e.closeModal(ue)}))))},close:(0,l.useCallback)((()=>{try{e.closeModal(ue)}catch(e){}}),[])}},pe=n(43834);var ve=()=>{var e,t,n,o,i,d,s,c,m,g,C,b;const S=(0,r.Fg)(),N=(0,A.H)(),F=(0,a.sJ)(E.o),H=(0,a.sJ)(h.l),T=(0,l.useContext)(u.m),B=(0,a.sJ)(x.yX),D=te(),O=me(),G=(0,pe.Z)(),{checkoutSettings:$}=T;let R=(null==(t=null==(e=null==$?void 0:$.membershipCheckoutConfig)?void 0:e.myPageDetails)?void 0:t.loyaltyProgramLogoImageId)?`${F}${null==(o=null==(n=null==$?void 0:$.membershipCheckoutConfig)?void 0:n.myPageDetails)?void 0:o.loyaltyProgramLogoImageId}.png?maxwidth=100&amp;maxheight=100&amp;scale=downscaleonly`:void 0;if(Boolean(null==(d=null==(i=$.membershipCheckoutConfig)?void 0:i.myPageDetails)?void 0:d.loggedInUserFirstName))return l.createElement(I,null);if(B.verified)return l.createElement("div",{style:{padding:"20px",background:S.css.cardBackground}},l.createElement(p.SK,null,N("EA4H.General.AccountWillBeCreatedAndEmailSent")));let _=N("EA4H.General.YouWillReceive1StampAfterYour{0}NightStay",1);if((null!=(c=null==(s=null==H?void 0:H.accommodationSearch)?void 0:s.numberOfNights)?c:0)>1){const e=null==(m=null==H?void 0:H.accommodationSearch)?void 0:m.numberOfNights;_=N("EA4H.General.YouWillReceive{0}StampsAfterYour{1}NightStay",e,e)}return l.createElement(w,{iconBackgroundColor:R?"transparent":Boolean(S.originalCSS.colorRewardDark)?S.css.colorRewardDark:S.css.darkAccentColor,iconPadding:0,color:S.css.colorRewardDark,backgroundColor:S.css.colorRewardLight,borderColor:Boolean(S.originalCSS.colorRewardLight)?S.css.colorRewardLight:void 0,title:_,icon:Boolean(R)?l.createElement("img",{width:"100%",src:R}):l.createElement(y.G,{fontWeight:100,style:{width:"100%",height:"100%",color:Boolean(S.originalCSS.colorRewardDark)?"#fff":S.css.accentDarkFontColor},icon:P.$J}),descriptionElement:l.createElement("span",null,l.createElement("span",{style:{color:S.css.colorRewardDark},dangerouslySetInnerHTML:{__html:null!=(b=null==(C=null==(g=null==$?void 0:$.membershipCheckoutConfig)?void 0:g.myPageDetails)?void 0:C.checkoutShortText)?b:""}})," ",l.createElement(p.Ao.Button,{variant:"text",style:{width:"max-content"},onClick:()=>{var e,t,n,o,r;G.open({contentComponent:l.createElement(v.A,{dangerouslySetInnerHTML:{__html:null!=(n=null==(t=null==(e=null==$?void 0:$.membershipCheckoutConfig)?void 0:e.myPageDetails)?void 0:t.loyaltyProgramFullDescription)?n:""}}),Header:N("EA4H.General.HowItWorks"),ImageUrl:`${F}${null==(r=null==(o=$.membershipCheckoutConfig)?void 0:o.myPageDetails)?void 0:r.loyaltyProgramImageId}.png`,coverImage:!1})}},N("EA4H.General.MoreInformation"),l.createElement(y.G,{style:{marginLeft:"5px"},icon:f._t})))},l.createElement(k,null,l.createElement(p.Ao.Button,{onClick:()=>{var e,t,n;D.open({InfoText:null!=(n=null==(t=null==(e=null==$?void 0:$.membershipCheckoutConfig)?void 0:e.myPageDetails)?void 0:t.becomeMemberText)?n:""})}},N("EA4H.General.BecomeMember")),l.createElement(p.Ao.SecondaryButton,{inverted:!0,onClick:()=>{var e,t,n;O.open({InfoText:null!=(n=null==(t=null==(e=null==$?void 0:$.membershipCheckoutConfig)?void 0:e.myPageDetails)?void 0:t.loginText)?n:""})}},N("EA4H.General.Login"))))};const ge=()=>l.createElement(l.Suspense,{fallback:l.createElement(c.c,{height:"200px"})},l.createElement(fe,null)),fe=()=>{var e,t;const n=(0,A.H)(),o=(0,l.useContext)(u.m);return Boolean(null==(t=null==(e=null==o?void 0:o.checkoutSettings)?void 0:e.membershipCheckoutConfig)?void 0:t.myPageDetails)&&!Boolean(o.isAgentBooking)&&!Boolean(o.isMPAgentBooking)?l.createElement(g,{title:n("EA4H.General.AreYouAMember")},l.createElement(ve,null)):null};var ye=n(23680),he=n(71566);var Ee=({formErrors:e,title:t})=>{const n=(0,r.Fg)();return l.createElement(S.Eo,null,l.createElement(v.A,{bold:!0,style:{color:"#891d1d"}},t),e&&Object.keys(e).length>0?l.createElement("ul",{style:{paddingLeft:15,listStyle:"outside",margin:5,color:"#ff0000"}},Object.keys(e).map(((t,o)=>l.createElement("li",{key:`formError-${o}`,style:{color:"#ff0000",margin:0,fontFamily:n.css.bodyFontFamily,lineHeight:n.css.bodyLineHeight}},e[t])))):null)},Ce=n(97092),be=n(99787),ke=Object.defineProperty,Ae=Object.getOwnPropertySymbols,Ie=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable,Pe=(e,t,n)=>t in e?ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Se=({validateForm:e,isFieldVerified:t,customerInfoForm:n,formErrors:o})=>{var a,i;const d=(0,l.useContext)(u.m),s=(0,A.H)(),c=(0,r.Fg)(),m=Boolean(o.countryCode);return l.createElement(S.xJ,null,l.createElement("div",{style:{display:"flex",position:"relative"}},l.createElement(p.Ph,((e,t)=>{for(var n in t||(t={}))Ie.call(t,n)&&Pe(e,n,t[n]);if(Ae)for(var n of Ae(t))xe.call(t,n)&&Pe(e,n,t[n]);return e})({noChevron:!0,required:!0,verified:e&&t("countryCode"),name:"checkoutField-chooseCountry","data-testid":"checkout_country",fullWidth:!0,style:{color:m?"#891d1d":"placeholder"===n.values.countryCode?(0,be.W)(c.css.inputColor,void 0,.5).color:c.css.inputColor}},n.getInputProps("countryCode")),l.createElement("option",{value:"placeholder",hidden:!0},`${s("EA4H.Conference.ChooseCountry")} *`),null==(i=null==(a=d.checkoutSettings)?void 0:a.countries)?void 0:i.map(((e,t)=>{var n;return l.createElement("option",{"data-testid":null==(n=e.name)?void 0:n.toLowerCase(),value:e.code,key:t,style:{color:c.css.inputColor}},e.name)}))),l.createElement("div",{style:{position:"absolute",right:0,height:"100%",display:"grid",placeContent:"center",paddingRight:"10px",pointerEvents:"none"}},l.createElement(y.G,{icon:Ce.pt,style:{color:c.css.inputColor,opacity:"placeholder"===n.values.countryCode?.5:1,fontSize:c.css.bodyFontSize}}))),o.countryCode&&l.createElement(S.mU,null,l.createElement(v.A,{small:!0,alert:!0},o.countryCode)))};var we=n(29439),Ne=n(39641),Fe=n(20871);const He=({error:e,children:t})=>{const n=(0,r.Fg)(),o=(0,be.W)(n.css.frameworkBackground,40,.5);return l.createElement(Fe.J,{position:"top",withArrow:!0,opened:Boolean(e),styles:{arrow:{border:0}}},l.createElement(Fe.J.Target,null,t),l.createElement(Fe.J.Dropdown,{style:{background:"indianred",border:0,borderRadius:n.css.popoutRoundedCorners,boxShadow:`0 1px 4px ${o.isDark?o.color:"rgba(0,0,0,.5)"}`}},l.createElement(v.A,{color:"#fff"},e)))};var Te=Object.defineProperty,Be=Object.getOwnPropertySymbols,De=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable,Ge=(e,t,n)=>t in e?Te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$e=(e,t)=>{for(var n in t||(t={}))De.call(t,n)&&Ge(e,n,t[n]);if(Be)for(var n of Be(t))Oe.call(t,n)&&Ge(e,n,t[n]);return e};const Re=({validateForm:e,isFieldVerified:t,customerInfoForm:n,formErrors:o,mandatory:r})=>{var a;const i=(0,A.H)(),d=null==(a=Object.keys(o))?void 0:a[0];return l.createElement(S.xJ,null,l.createElement(He,{error:"phoneCountryCode"===d?o.phoneCountryCode:"phoneNumber"===d?o.phoneNumber:void 0},l.createElement(Ne.Z,{spacing:0,align:"center",position:"left",grow:!0,noWrap:!0},l.createElement(m.W,{p:0,m:0,style:{minWidth:80,maxWidth:80,position:"relative"}},l.createElement(p.nV,null,l.createElement(y.G,{icon:we.r8})),l.createElement(p.II,$e({type:"number",verified:e&&t("phoneNumber"),pattern:"[0-9]",style:{minWidth:80,maxWidth:80,paddingLeft:26,borderRight:0,borderTopRightRadius:0,borderBottomRightRadius:0},required:r,autoComplete:"tel-country-code",name:"checkoutField-phoneCountryCode"},n.getInputProps("phoneCountryCode")))),l.createElement(m.W,{p:0},l.createElement(p.II,$e({type:"number","data-testid":"checkout_phonenumber",verified:e&&t("phoneNumber"),pattern:"[0-9]",required:r,name:"checkoutField-phoneNumber",style:{width:"100%",borderTopLeftRadius:0,borderBottomLeftRadius:0},placeholder:`${i("EA4H.General.PhoneNumber")} ${r?"*":i("EA4H.General.LowerOptional")}`},n.getInputProps("phoneNumber")))))))};var _e=n(87262);const Me=(0,a.cn)({key:"customerFirstNameAtom",default:""}),Le=(0,a.cn)({key:"customerLastNameAtom",default:""}),We=(0,a.cn)({key:"customerEmailAtom",default:""});var qe=Object.defineProperty,je=Object.getOwnPropertySymbols,Ve=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable,Ze=(e,t,n)=>t in e?qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ke=(e,t)=>{for(var n in t||(t={}))Ve.call(t,n)&&Ze(e,n,t[n]);if(je)for(var n of je(t))Je.call(t,n)&&Ze(e,n,t[n]);return e};var ze=l.forwardRef((({onFormCreated:e,validateForm:t},n)=>{var o,i,d,s,c,f,y,h,E,C,b,k,I,x,P,w,N,F,T,D,O,G,$,R,_,M,L,W,q,j,V,J,Z,K,z,U,Q,Y,X,ee,te,ne;const le=(0,l.useContext)(u.m),{checkoutSettings:oe}=le,{data:re}=(0,_e.K)(),ae=(0,A.H)(),ie=(0,r.Fg)(),de=null==(o=null==oe?void 0:oe.customerDataConfig)?void 0:o.checkoutFields,se=(0,a.Zl)(Me),ce=(0,a.Zl)(Le),ue=(0,a.Zl)(We),me=null==(i=de.find((e=>e.fieldType===B.$C.TravellingForWork)))?void 0:i.shouldBeDisplayed,pe=null==(d=de.find((e=>e.fieldType===B.$C.IsCorporateCustomer)))?void 0:d.shouldBeDisplayed,ve=null==(s=de.find((e=>e.fieldType===B.$C.Apartment)))?void 0:s.shouldBeDisplayed,ge=null==(c=de.find((e=>e.fieldType===B.$C.City)))?void 0:c.shouldBeDisplayed,fe=null==(f=de.find((e=>e.fieldType===B.$C.PhoneNumber)))?void 0:f.shouldBeDisplayed,Ce=null==(y=de.find((e=>e.fieldType===B.$C.PostalCode)))?void 0:y.shouldBeDisplayed,be=null==(h=de.find((e=>e.fieldType===B.$C.Street)))?void 0:h.shouldBeDisplayed,ke=null==(E=de.find((e=>e.fieldType===B.$C.CompanyName)))?void 0:E.shouldBeDisplayed,Ae=null==(C=de.find((e=>e.fieldType===B.$C.Department)))?void 0:C.shouldBeDisplayed,Ie=null==(b=de.find((e=>e.fieldType===B.$C.OrganizationNumber)))?void 0:b.shouldBeDisplayed,xe=null==(k=de.find((e=>e.fieldType===B.$C.Apartment)))?void 0:k.isMandatory,Pe=null==(I=de.find((e=>e.fieldType===B.$C.City)))?void 0:I.isMandatory,we=null==(x=de.find((e=>e.fieldType===B.$C.PhoneNumber)))?void 0:x.isMandatory,Ne=null==(P=de.find((e=>e.fieldType===B.$C.PostalCode)))?void 0:P.isMandatory,Fe=null==(w=de.find((e=>e.fieldType===B.$C.Street)))?void 0:w.isMandatory,He=null==(N=de.find((e=>e.fieldType===B.$C.CompanyName)))?void 0:N.isMandatory,Te=null==(F=de.find((e=>e.fieldType===B.$C.Department)))?void 0:F.isMandatory,Be=null==(T=de.find((e=>e.fieldType===B.$C.OrganizationNumber)))?void 0:T.isMandatory,De=(0,ye.c)({initialValues:{firstName:null!=(O=null==(D=null==oe?void 0:oe.customerData)?void 0:D.firstName)?O:"",lastName:null!=($=null==(G=null==oe?void 0:oe.customerData)?void 0:G.lastName)?$:"",emailAddress:null!=(_=null==(R=null==oe?void 0:oe.customerData)?void 0:R.email)?_:"",confirmEmailAddress:null!=(L=null==(M=null==oe?void 0:oe.customerData)?void 0:M.email)?L:"",street:"",coAddress:"",city:"",companyName:"",department:"",countryCode:"placeholder",phoneCountryCode:null!=(q=null==(W=null==oe?void 0:oe.customerData)?void 0:W.phoneCountryCode)?q:"",phoneNumber:null!=(V=null==(j=null==oe?void 0:oe.customerData)?void 0:j.phoneNumber)?V:"",organizationNumber:"",postalCode:"",referenceName:"",isCorporateCustomer:le.corpCustomerDefaultChecked,travellingForWork:!1,isSocialLogin:!1,socialLoginDone:!1,mpAgentReference:""},validate:le.isMPAgentBooking?{firstName:e=>e&&0!==e.length?null:ae("EA4H.Conference.Error.FirstNameIsRequired"),lastName:e=>e&&0!==e.length?null:ae("EA4H.Conference.Error.LastNameIsRequired"),emailAddress:e=>e&&0!==e.length?/^\S+@\S+$/.test(e)?null:ae("EA4H.General.EmailInvalid"):ae("EA4H.General.EmailRequired")}:{firstName:e=>e&&0!==e.length?null:ae("EA4H.Conference.Error.FirstNameIsRequired"),lastName:e=>e&&0!==e.length?null:ae("EA4H.Conference.Error.LastNameIsRequired"),emailAddress:e=>e&&0!==e.length?/^\S+@\S+$/.test(e)?null:ae("EA4H.General.EmailInvalid"):ae("EA4H.General.EmailRequired"),confirmEmailAddress:(e,t)=>e&&0!==e.length?e!==t.emailAddress?ae("EA4H.General.EmailMatch"):/^\S+@\S+$/.test(e)?null:ae("EA4H.General.EmailInvalid"):ae("EA4H.Conference.Error.VerifyEmailIsRequired"),coAddress:e=>e&&0!==e.length||!xe||!ve?null:ae("EA4H.Conference.Error.COAddressIsRequired"),city:e=>e&&0!==e.length||!Pe||!ge?null:ae("EA4H.Conference.Error.CityIsRequired"),phoneCountryCode:e=>e&&0!==e.length||!we||!fe?null:ae("EA4H.Conference.Error.PhoneCountryCodeIsRequired"),phoneNumber:e=>e&&0!==e.length||!we||!fe?null:ae("EA4H.Conference.Error.PhoneNumberIsRequired"),postalCode:e=>e&&0!==e.length||!Ne||!Ce?null:ae("EA4H.Conference.Error.PostalCodeIsRequired"),street:e=>e&&0!==e.length||!Fe||!be?null:ae("EA4H.Conference.Error.StreetAddressIsRequired"),companyName:(e,t)=>(!e||0===e.length)&&He&&ke&&t.isCorporateCustomer?ae("EA4H.Conference.Error.CompanyIsRequired"):null,department:(e,t)=>(!e||0===e.length)&&Te&&Ae&&t.isCorporateCustomer?ae("EA4H.Conference.Error.DepartmentIsRequired"):null,organizationNumber:(e,t)=>(!e||0===e.length)&&Be&&Ie&&t.isCorporateCustomer?ae("EA4H.Conference.Error.OrgnumberIsRequired"):null,countryCode:e=>e&&0!==e.length&&"placeholder"!==e?null:ae("EA4H.Conference.Error.CountryIsRequired")}}),Oe=De.values.countryCode,Ge=De.values.firstName,$e=De.values.lastName,qe=De.values.emailAddress;(0,l.useEffect)((()=>{var e;const t=null==(e=null==oe?void 0:oe.countries)?void 0:e.find((e=>e.code===Oe));t&&De.setFieldValue("phoneCountryCode",null==t?void 0:t.phoneCountryCode)}),[Oe]),(0,l.useEffect)((()=>{se(Ge)}),[Ge]),(0,l.useEffect)((()=>{ce($e)}),[$e]),(0,l.useEffect)((()=>{ue(qe)}),[qe]);const je=De.errors;null==(J=Object.keys(je))||J[0];(0,l.useEffect)((()=>{e(De)}),[De.values]),(0,l.useEffect)((()=>{t&&De&&De.validate()}),[t]),(0,l.useEffect)((()=>{}),[]);const Ve=e=>{switch(e){case B.$C.Apartment:return ae("EA4H.General.COAddress");case B.$C.City:return ae("EA4H.General.City");case B.$C.PostalCode:return ae("EA4H.General.PostalCode");case B.$C.PhoneNumber:return ae("EA4H.General.PhoneNumber");case B.$C.CompanyName:return ae("EA4H.General.CompanyName");case B.$C.Department:return ae("EA4H.General.DepartmentReference");case B.$C.Street:return ae("EA4H.General.StreetAddress");case B.$C.OrganizationNumber:return ae("EA4H.General.OrganizationNumber")}},Je=e=>!je.hasOwnProperty(e),Ze=de.filter((e=>e.fieldType!==B.$C.AllowEmailAdvertising&&e.fieldType!==B.$C.AskForGuestNames&&e.fieldType!==B.$C.IsCorporateCustomer&&e.fieldType!==B.$C.SpecialRequest&&e.fieldType!==B.$C.TravellingForWork&&e.fieldType!==B.$C.PhoneNumber)).filter((e=>De.values.isCorporateCustomer&&pe?e:e.fieldType!==B.$C.CompanyName&&e.fieldType!==B.$C.Department&&e.fieldType!==B.$C.OrganizationNumber)).filter((e=>e.shouldBeDisplayed));return(null==(K=null==(Z=null==re?void 0:re.booking)?void 0:Z.bookingData)?void 0:K.isMpAgentBooking)?l.createElement(l.Fragment,null,l.createElement(m.W,{m:0,mt:20,p:0},l.createElement(H.Z,{labelColor:ie.css.cardColor,checkedColor:ie.css.selectedDarkFontColor,checkedBorderColor:ie.css.darkSelectedColor,checkedBackground:ie.css.darkSelectedColor,boldLabel:!0,id:"i_am_corp_customer",Label:ae("EA4H.General.IAmACorporateCustomer"),onChange:e=>De.setFieldValue("isCorporateCustomer",e.target.checked),isChecked:De.values.isCorporateCustomer})),l.createElement(p.Zb,{style:{padding:"20px",marginTop:"20px"}},l.createElement(S.Yb,null,l.createElement(S.xJ,null,l.createElement(p.II,Ke({required:!0,verified:t&&Je("mpAgentReference"),type:"text",name:"mpAgentReference",fullWidth:!0,placeholder:ae("EA4H.General.ReferencetName")},De.getInputProps("mpAgentReference")))),l.createElement(S.xJ,null,l.createElement(p.II,Ke({required:!0,verified:t&&Je("emailAddress"),type:"email","data-testid":"checkout_email",name:"emailAddress",fullWidth:!0,placeholder:`${ae("EA4H.General.Email")} *`},De.getInputProps("emailAddress")))))),l.createElement(g,{noBottomPadding:!0,useTopPadding:!0,title:ae("EA4H.General.GuestInformation")},l.createElement(p.Zb,{ref:n,style:{padding:"20px"}},l.createElement(m.W,{p:0},l.createElement(S.Yb,null,l.createElement(S.xJ,null,l.createElement(p.II,Ke({"data-testid":"checkout_firstname",required:!0,verified:t&&Je("firstName"),type:"text",name:"firstName",fullWidth:!0,placeholder:`${ae("EA4H.General.FirstName")} *`},De.getInputProps("firstName")))),l.createElement(S.xJ,null,l.createElement(p.II,Ke({required:!0,verified:t&&Je("lastName"),type:"text",name:"lastName","data-testid":"checkout_lastname",fullWidth:!0,placeholder:`${ae("EA4H.General.LastName")} *`},De.getInputProps("lastName")))),l.createElement(Se,{customerInfoForm:De,formErrors:je,isFieldVerified:Je,validateForm:t}),l.createElement(Re,{customerInfoForm:De,formErrors:je,isFieldVerified:Je,validateForm:t,mandatory:we})))))):(null==(U=null==(z=null==re?void 0:re.booking)?void 0:z.bookingData)?void 0:U.isAgentBooking)?l.createElement(S.Kf,{ref:n},l.createElement(m.W,{p:0},l.createElement(S.Yb,null,l.createElement(S.xJ,null,l.createElement(p.II,Ke({required:!0,verified:t&&Je("firstName"),type:"text","data-testid":"checkout_firstname",name:"firstName",fullWidth:!0,placeholder:`${ae("EA4H.General.FirstName")} *`},De.getInputProps("firstName")))),l.createElement(S.xJ,null,l.createElement(p.II,Ke({required:!0,verified:t&&Je("lastName"),type:"text",name:"lastName","data-testid":"checkout_lastname",fullWidth:!0,placeholder:`${ae("EA4H.General.LastName")} *`},De.getInputProps("lastName")))),l.createElement(S.xJ,null,l.createElement(p.II,Ke({required:!0,verified:t&&Je("emailAddress"),type:"email",name:"emailAddress","data-testid":"checkout_email",fullWidth:!0,placeholder:`${ae("EA4H.General.Email")} *`},De.getInputProps("emailAddress")))),l.createElement(S.xJ,null,l.createElement(p.II,Ke({required:!0,verified:t&&Je("confirmEmailAddress"),type:"email","data-testid":"checkout_validateemail",name:"reEmailAddress",fullWidth:!0,placeholder:`${ae("EA4H.General.EmailConfirm")} *`},De.getInputProps("confirmEmailAddress"))))))):l.createElement(S.Kf,{ref:n},t&&Object.keys(je).length>0?l.createElement(Ee,{title:ae("EA4H.Conference.Error.InformationForRequiredFieldsAreMissing"),formErrors:je}):null,l.createElement(S.kI,null,me&&l.createElement(H.Z,{dontWrapLabel:!0,labelColor:ie.css.cardColor,checkedColor:ie.css.selectedDarkFontColor,checkedBorderColor:ie.css.darkSelectedColor,checkedBackground:ie.css.darkSelectedColor,boldLabel:!0,id:"travelling_for_work_cb",Label:ae("EA4H.General.AreYouTravellingForWork"),onChange:e=>De.setFieldValue("travellingForWork",e.target.checked),isChecked:De.values.travellingForWork}),pe&&!(null==(Q=null==oe?void 0:oe.customerData)?void 0:Q.isCorpCustomer)&&!(null==(X=null==(Y=null==re?void 0:re.booking)?void 0:Y.bookingData)?void 0:X.isAgentBooking)&&l.createElement(H.Z,{dontWrapLabel:!0,labelColor:ie.css.cardColor,checkedColor:ie.css.selectedDarkFontColor,checkedBorderColor:ie.css.darkSelectedColor,checkedBackground:ie.css.darkSelectedColor,boldLabel:!0,id:"i_am_corp_customer",Label:ae("EA4H.General.IAmACorporateCustomer"),onChange:e=>De.setFieldValue("isCorporateCustomer",e.target.checked),isChecked:De.values.isCorporateCustomer})),(null==(ee=null==oe?void 0:oe.customerDataConfig)?void 0:ee.socialLoginActivated)&&De.values.socialLoginDone?l.createElement(m.W,{m:0,mt:20,p:0},l.createElement(H.Z,{labelColor:ie.css.cardColor,checkedColor:ie.css.selectedDarkFontColor,checkedBorderColor:ie.css.darkSelectedColor,checkedBackground:ie.css.darkSelectedColor,boldLabel:!0,Label:ae("EA4H.Online.IsSocialLogin"),onChange:e=>De.setFieldValue("isSocialLogin",e.target.checked),isChecked:De.values.isSocialLogin})):null,(null==(ne=null==(te=null==re?void 0:re.booking)?void 0:te.bookingData)?void 0:ne.isMpAgentBooking)?l.createElement(l.Fragment,null,l.createElement(m.W,{p:0,mt:20},l.createElement(S.Yb,null,l.createElement(S.xJ,null,l.createElement(p.II,Ke({required:!0,verified:t&&Je("referenceName"),type:"text",name:"referenceName",fullWidth:!0,placeholder:`${ae("EA4H.General.ReferencetName")} *`},De.getInputProps("referenceName")))),l.createElement(S.xJ,null,l.createElement(p.II,Ke({required:!0,verified:t&&Je("emailAddress"),type:"email","data-testid":"checkout_email",name:"emailAddress",fullWidth:!0,placeholder:`${ae("EA4H.General.Email")} *`},De.getInputProps("emailAddress")))))),l.createElement(m.W,{p:0,mt:20},l.createElement(he.Q,null,ae("EA4H.General.CustomerInformation"))),l.createElement(m.W,{p:0,mt:20},l.createElement(S.Yb,null,l.createElement(S.xJ,null,l.createElement(p.II,Ke({required:!0,verified:t&&Je("firstName"),type:"text",name:"firstName","data-testid":"checkout_firstname",fullWidth:!0,placeholder:`${ae("EA4H.General.FirstName")} *`},De.getInputProps("firstName")))),l.createElement(S.xJ,null,l.createElement(p.II,Ke({required:!0,verified:t&&Je("lastName"),type:"text",name:"lastName",fullWidth:!0,"data-testid":"checkout_lastname",placeholder:`${ae("EA4H.General.LastName")} *`},De.getInputProps("lastName")))),l.createElement(Se,{customerInfoForm:De,formErrors:je,isFieldVerified:Je,validateForm:t}),l.createElement(Re,{customerInfoForm:De,formErrors:je,isFieldVerified:Je,validateForm:t,mandatory:we})))):l.createElement(m.W,{p:0,mt:20,fluid:!0},l.createElement(S.Yb,null,l.createElement(S.xJ,null,l.createElement(p.II,Ke({required:!0,verified:t&&Je("firstName"),type:"text","data-testid":"checkout_firstname",name:"firstName",fullWidth:!0,placeholder:`${ae("EA4H.General.FirstName")} *`},De.getInputProps("firstName"))),je.firstName&&l.createElement(S.mU,null,l.createElement(v.A,{small:!0,alert:!0},je.firstName))),l.createElement(S.xJ,null,l.createElement(p.II,Ke({required:!0,verified:t&&Je("lastName"),"data-testid":"checkout_lastname",type:"text",name:"lastName",fullWidth:!0,placeholder:`${ae("EA4H.General.LastName")} *`},De.getInputProps("lastName"))),je.lastName&&l.createElement(S.mU,null,l.createElement(v.A,{small:!0,alert:!0},je.lastName))),l.createElement(S.xJ,null,l.createElement(p.II,Ke({required:!0,verified:t&&Je("emailAddress"),type:"email",name:"emailAddress","data-testid":"checkout_email",fullWidth:!0,placeholder:`${ae("EA4H.General.Email")} *`},De.getInputProps("emailAddress"))),je.emailAddress&&l.createElement(S.mU,null,l.createElement(v.A,{small:!0,alert:!0},je.emailAddress))),l.createElement(S.xJ,null,l.createElement(p.II,Ke({required:!0,verified:t&&Je("confirmEmailAddress"),type:"email","data-testid":"checkout_validateemail",name:"reEmailAddress",fullWidth:!0,placeholder:`${ae("EA4H.General.EmailConfirm")} *`},De.getInputProps("confirmEmailAddress"))),je.confirmEmailAddress&&l.createElement(S.mU,null,l.createElement(v.A,{small:!0,alert:!0},je.confirmEmailAddress))),Ze.map((e=>{const n=e.isMandatory,o=e.fieldType,r=o.charAt(0).toLowerCase()+o.substring(1);return l.createElement(S.xJ,{key:o},l.createElement(p.II,Ke({"data-testid":`checkout_${r.toLowerCase()}`,type:"text",verified:t&&Je(r),required:n,name:`checkoutField-${r.toLowerCase()}`,fullWidth:!0,placeholder:`${Ve(o)} ${n?"*":ae("EA4H.General.LowerOptional")}`},De.getInputProps(r))),je[r]&&l.createElement(S.mU,null,l.createElement(v.A,{small:!0,alert:!0},je[r])))})),l.createElement(Se,{customerInfoForm:De,formErrors:je,isFieldVerified:Je,validateForm:t}),fe?l.createElement(Re,{customerInfoForm:De,formErrors:je,isFieldVerified:Je,validateForm:t,mandatory:we}):null)))})),Ue=Object.defineProperty,Qe=Object.getOwnPropertySymbols,Ye=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable,et=(e,t,n)=>t in e?Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const tt=e=>l.createElement(l.Suspense,{fallback:l.createElement(c.c,{height:"200px"})},l.createElement(nt,((e,t)=>{for(var n in t||(t={}))Ye.call(t,n)&&et(e,n,t[n]);if(Qe)for(var n of Qe(t))Xe.call(t,n)&&et(e,n,t[n]);return e})({},e))),nt=({validateForm:e,onCustomerInfoFormCreated:t,responsibleForBookingSectionRef:n})=>{var o,r;const a=(0,A.H)(),i=(0,l.useContext)(u.m);return!Boolean(null==(o=null==i?void 0:i.onlinePaymentMethods)?void 0:o.klarnaCheckout)&&!Boolean(null==(r=i.onlinePaymentMethods)?void 0:r.dibsEasy)?l.createElement(g,{ref:n,title:a("EA4H.General.ResponsibleForBooking")},l.createElement(ze,{onFormCreated:t,validateForm:e})):null};var lt=n(78462),ot=n(73582),rt=Object.defineProperty,at=Object.getOwnPropertySymbols,it=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable,st=(e,t,n)=>t in e?rt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ct=(e,t)=>{for(var n in t||(t={}))it.call(t,n)&&st(e,n,t[n]);if(at)for(var n of at(t))dt.call(t,n)&&st(e,n,t[n]);return e};const ut=l.forwardRef((({customerForm:e,onFormCreated:t,validateForm:n},o)=>{var a,i,d,s;const c=(0,A.H)(),m=(0,l.useContext)(u.m),{checkoutSettings:p}=m,[v,g]=((0,r.Fg)(),(0,l.useState)(!1)),f=null==(i=null==(a=null==p?void 0:p.guestDataConfig)?void 0:a.roomGuestConfigs)?void 0:i.map((e=>({roomName:e.roomName,guestInfos:e.guestInfos.map((e=>{var t,n,l,o,r;return{guestId:null!=(t=e.guestId)?t:"",firstName:null!=(n=e.firstName)?n:"",lastName:null!=(l=e.lastName)?l:"",email:null!=(o=e.email)?o:"",phoneNumber:null!=(r=e.phoneNumber)?r:"",isPrimaryGuest:e.isPrimaryGuest,sameAsCustomer:e.sameAsCustomer,isAdult:e.isAdult,requireToInput:e.requireToInput,requireToInputForTimeSlot:e.requireToInputForTimeSlot,isTimeSlotBooking:e.isTimeSlotBooking}})),askForAllGuestNames:!1}))),h=(0,ye.c)({initialValues:{guestDataConfig:f},validate:{guestDataConfig:{guestInfos:{firstName:(e,t,n)=>e&&0!==e.length||!E(n)?null:c("EA4H.Conference.Error.FirstNameIsRequired"),lastName:(e,t,n)=>e&&0!==e.length||!E(n)?null:c("EA4H.Conference.Error.LastNameIsRequired"),phoneNumber:(e,t,n)=>e&&0!==e.length||!E(n)?null:c("EA4H.Conference.Error.PhoneNumberIsRequired"),email:(e,t,n)=>e&&0!==e.length||!E(n)?null:c("EA4H.Conference.Error.EmailIsRequired")}}}}),E=e=>{const t=e.split("."),n=t[1],l=t[3],o=t[4],r=h.values.guestDataConfig[parseInt(n)].guestInfos[parseInt(l)];switch(o){case"firstName":case"lastName":return r.requireToInput;case"phoneNumber":case"email":return r.requireToInputForTimeSlot}},C=h.errors;return(0,l.useEffect)((()=>{t(h)}),[h.values]),(0,l.useEffect)((()=>{n&&h&&h.validate()}),[n]),l.createElement("div",{ref:o,style:{display:"flex",flexDirection:"column",gap:"10px"}},null==(s=null==(d=h.values)?void 0:d.guestDataConfig)?void 0:s.map(((t,o)=>l.createElement(mt,{showAllGuestNames:v,customerForm:e,formErrors:C,guestConfig:t,guestInfoForm:h,roomIndex:o,validateForm:n,key:`${t.roomName}_${o}`}))),l.createElement(ne.z,{withIcon:!0,variant:"text",style:{width:"max-content"},onClick:()=>g((e=>!e))},c(v?"EA4H.General.HideGuestNames":"EA4H.General.EnterAllGuestNames"),l.createElement(y.G,{icon:ot.mTx,style:{transform:`rotate(${v?"0":"180"}deg)`}})))})),mt=({guestConfig:e,roomIndex:t,guestInfoForm:n,customerForm:i,formErrors:d,validateForm:s,showAllGuestNames:c})=>{var u;const m=(0,A.H)(),g=(0,r.Fg)(),f=(0,a.sJ)(Me),y=(0,a.sJ)(Le),h=(0,a.sJ)(We),[E,C]=(0,l.useState)(!1),b=(0,o.useMediaQuery)({query:g.mediaQueries.verySmall}),k=e=>!d.hasOwnProperty(e);(0,l.useEffect)((()=>{E&&(n.setFieldValue(`guestDataConfig.${t}.guestInfos.0.firstName`,f),n.setFieldValue(`guestDataConfig.${t}.guestInfos.0.lastName`,y),n.setFieldValue(`guestDataConfig.${t}.guestInfos.0.email`,h))}),[f,y,h]);const I=(e,t,l)=>{var o,r,a,d;C(e),e&&(n.setFieldValue(`guestDataConfig.${t}.guestInfos.${l}.firstName`,null==(o=i.current)?void 0:o.values.firstName),n.setFieldValue(`guestDataConfig.${t}.guestInfos.${l}.lastName`,null==(r=i.current)?void 0:r.values.lastName),n.setFieldValue(`guestDataConfig.${t}.guestInfos.${l}.email`,null==(a=i.current)?void 0:a.values.emailAddress),n.setFieldValue(`guestDataConfig.${t}.guestInfos.${l}.phoneNumber`,null==(d=i.current)?void 0:d.values.phoneNumber)),n.setFieldValue(`guestDataConfig.${t}.guestInfos.${l}.sameAsCustomer`,e)};return(0,l.useEffect)((()=>{n.setFieldValue(`guestDataConfig.${t}.askForAllGuestNames`,c)}),[c]),l.createElement(p.Zb,{padding:25,smallPadding:20},l.createElement(p.SK,{bold:!0},m("EA4H.Online.Room{0}",`#${t+1}`),": ",e.roomName),null==(u=e.guestInfos)?void 0:u.map(((e,o)=>{const r=e.isPrimaryGuest,a=e.requireToInput,i=e.requireToInputForTimeSlot,d=`${m("EA4H.General.FirstName")} ${a?"*":""}`,u=`guestDataConfig.${t}.guestInfos.${o}.firstName`,f=`guestDataConfig.${t}.guestInfos.${o}.lastName`,y=`guestDataConfig.${t}.guestInfos.${o}.email`,h=`guestDataConfig.${t}.guestInfos.${o}.phoneNumber`;return l.createElement(l.Fragment,{key:`guestInfo_${o}`},r?l.createElement(l.Fragment,null,l.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"10px 0px"}},l.createElement(v.A,{style:{textTransform:"capitalize"}},m("EA4H.General.Guest_LOWER")," ",o+1," · ",m(e.isAdult?"EA4H.General.Adult":"EA4H.General.Child")),l.createElement(H.Z,{labelColor:g.css.cardColor,checkedColor:g.css.selectedDarkFontColor,checkedBorderColor:g.css.darkSelectedColor,checkedBackground:g.css.darkSelectedColor,id:`same_as_customer_${e.guestId}`,smallLabel:!0,mutedLabel:!0,Label:m("EA4H.General.SameAsCustomer"),onChange:e=>I(e.currentTarget.checked,t,o),isChecked:n.values.guestDataConfig[t].guestInfos[o].sameAsCustomer})),l.createElement(S.d4,{isPrimaryGuest:r,largeColumnCount:r?4:2},l.createElement(S.xJ,null,l.createElement(p.II,ct({required:a,verified:s&&k(u),type:"text",name:"firstName",fullWidth:!0,placeholder:d,style:b?{borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottom:0}:{borderRight:0,borderTopRightRadius:0,borderBottomRightRadius:0},onKeyDown:()=>I(!1,t,o)},n.getInputProps(u)))),l.createElement(S.xJ,null,l.createElement(p.II,ct({required:a,verified:s&&k(f),type:"text",name:"lastName",fullWidth:!0,style:b?{borderRadius:0,borderBottom:0}:{borderRight:0,borderRadius:0},onKeyDown:()=>I(!1,t,o),placeholder:`${m("EA4H.General.LastName")} ${a?"*":""}`},n.getInputProps(f)))),l.createElement(S.xJ,null,l.createElement(p.II,ct({required:i,verified:s&&k(y),type:"text",name:"email",style:b?{borderRadius:0,borderBottom:0}:{borderRight:0,borderRadius:0},onKeyDown:()=>I(!1,t,o),fullWidth:!0,placeholder:`${m("EA4H.General.Email")} ${i?"*":""}`},n.getInputProps(y)))),l.createElement(S.xJ,null,l.createElement(p.II,ct({required:i,verified:s&&k(h),type:"text",name:"phoneNumber",style:b?{borderTopLeftRadius:0,borderTopRightRadius:0}:{borderTopLeftRadius:0,borderBottomLeftRadius:0},fullWidth:!0,placeholder:`${m("EA4H.General.PhoneNumber")} ${i?"*":""}`},n.getInputProps(h)))))):l.createElement(lt.U,{in:c,style:{}},l.createElement("hr",{style:{margin:"15px 0px",height:g.css.dividerBorderWidth,border:0,width:"100%",background:g.css.cardDividerColor}}),l.createElement(v.A,{style:{textTransform:"capitalize",marginBottom:"8px"}},m("EA4H.General.Guest_LOWER")," ",o+1," · ",m(e.isAdult?"EA4H.General.Adult":"EA4H.General.Child")),l.createElement(S.d4,{isPrimaryGuest:r,largeColumnCount:r?4:2},l.createElement(S.xJ,null,l.createElement(p.II,ct({required:a,verified:s&&k(u),type:"text",name:"firstName",fullWidth:!0,style:b?{borderBottom:0,borderBottomLeftRadius:0,borderBottomRightRadius:0}:{borderRight:0,borderTopRightRadius:0,borderBottomRightRadius:0},placeholder:d},n.getInputProps(u)))),l.createElement(S.xJ,null,l.createElement(p.II,ct({required:a,verified:s&&k(f),type:"text",name:"lastName",fullWidth:!0,style:b?{borderTopRightRadius:0,borderTopLeftRadius:0}:{borderTopLeftRadius:0,borderBottomLeftRadius:0},placeholder:`${m("EA4H.General.LastName")} ${a?"*":""}`},n.getInputProps(f)))))))})))};var pt=ut,vt=n(79660),gt=Object.defineProperty,ft=Object.getOwnPropertySymbols,yt=Object.prototype.hasOwnProperty,ht=Object.prototype.propertyIsEnumerable,Et=(e,t,n)=>t in e?gt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Ct=e=>l.createElement(l.Suspense,{fallback:l.createElement(c.c,{height:"200px"})},l.createElement(bt,((e,t)=>{for(var n in t||(t={}))yt.call(t,n)&&Et(e,n,t[n]);if(ft)for(var n of ft(t))ht.call(t,n)&&Et(e,n,t[n]);return e})({},e))),bt=({customerForm:e,onFormCreated:t,validateForm:n,guestInfoFormDOMRef:o})=>{var r,a,i;const d=(0,A.H)(),s=(0,l.useContext)(u.m);return Boolean(null==(a=null==(r=null==s?void 0:s.checkoutSettings)?void 0:r.guestDataConfig)?void 0:a.askForGuestNames)&&(0,vt._)(null==(i=s.checkoutSettings.guestDataConfig)?void 0:i.roomGuestConfigs)?l.createElement(g,{title:d("EA4H.General.GuestInformation")},l.createElement(pt,{customerForm:e,onFormCreated:t,validateForm:n,ref:o})):null},kt=()=>l.createElement(l.Suspense,{fallback:l.createElement(c.c,{height:"200px"})},l.createElement(At,null)),At=()=>{var e,t,n;const o=(0,A.H)(),r=(0,l.useContext)(u.m),[i,d]=(0,a.FV)(x.Ci),s=null==(n=null==(t=null==(e=null==r?void 0:r.checkoutSettings)?void 0:e.customerDataConfig)?void 0:t.checkoutFields)?void 0:n.find((e=>e.fieldType===B.$C.SpecialRequest)),c=null==s?void 0:s.shouldBeDisplayed,m=null==s?void 0:s.isMandatory;return c?l.createElement(g,{title:o("EA4H.General.SpecialRequest")},l.createElement(p.Zb,{smallPadding:20,padding:25},l.createElement(S.f6,{rows:4,style:{resize:"none"},onChange:e=>d(e.currentTarget.value),placeholder:`${o("EA4H.General.TypeYourRequest")} ${m?"*":""}`,value:i}))):null};var It=n(4386),xt=n(21386),Pt=n(39545);const St=({isSelected:e,onSelected:t,Title:n,SubTitle:o})=>{const a=(0,r.Fg)();return l.createElement(S.tp,{style:{border:"1px solid "+(e?"#2b8000":"transparent"),cursor:"pointer",background:e?"#eaf5e5":"transparent"},onClick:t},l.createElement("input",{style:{cursor:"pointer",accentColor:"green"},type:"radio",id:n,checked:e,name:"paymentType",value:n,readOnly:!0}),l.createElement("label",{htmlFor:n,style:{marginLeft:"5px",fontWeight:"bold",cursor:"pointer",color:e?"#2b8000":"#000"}},l.createElement(p.SK,{small:!0,bold:!0,style:{cursor:"pointer",color:e?"#2b8000":a.css.cardColor}},n),l.createElement(p.SK,{dangerouslySetInnerHTML:{__html:o},small:!0,style:{cursor:"pointer",color:e?"#2b8000":a.css.cardColor}})))};var wt=()=>{var e,t;const[n,o]=(0,a.FV)(x.CD),i=(0,A.H)(),d=(0,r.Fg)(),s=(0,l.useContext)(u.m),c=(0,a.sJ)(xt.g),m=new Intl.DateTimeFormat(c,{month:"long",day:"2-digit",year:"numeric"}),v=(0,Pt.$)(),{onlinePaymentMethods:g,onlinePaymentMethodsEnabled:f}=s,y=Boolean(f)&&Boolean(null==g?void 0:g.downPaymentAmount)&&Boolean(null==g?void 0:g.downPaymentDueDate)&&0!==(null==g?void 0:g.downPaymentAmount)&&new Date(null==g?void 0:g.downPaymentDueDate).getTime()<new Date(null==g?void 0:g.fullPaymentDueDate).getTime(),h=`${v.format(null!=(e=null==g?void 0:g.downPaymentAmount)?e:0)} ${null==g?void 0:g.currency}`,E=!(null==g?void 0:g.downPaymentHasToBePaidAtTheTimeOfBooking)&&!(null==g?void 0:g.fullPaymentHasToBePaidAtTheTimeOfBooking)&&!(null==g?void 0:g.dibsEasy),C=`${v.format(null!=(t=null==g?void 0:g.fullPaymentAmount)?t:0)} ${null==g?void 0:g.currency}`,b=(null==g?void 0:g.fullPaymentDueDate)?m.format(new Date(null==g?void 0:g.fullPaymentDueDate)):"",k=!f||!E&&!y;return l.useEffect((()=>{k||o(y?B.ci.DownPayment:B.ci.FullPayment)}),[]),k?null:l.createElement(p.Zb,{style:{padding:"20px"}},l.createElement(p.SK,{bold:!0},i("EA4H.Online.HowWouldYouLikeToPay")),l.createElement("div",{style:{borderTop:`1px solid ${d.css.inputBorderColor}`,paddingTop:"5px",borderBottom:`1px solid ${d.css.inputBorderColor}`}},E&&l.createElement(St,{isSelected:"PayLater"===n,Title:"Pay later",SubTitle:i("EA4H.Online.PayLaterInfoText{0}{1}",C,b),onSelected:()=>o(B.ci.PayLater)}),y&&l.createElement(St,{isSelected:"DownPayment"===n,Title:"Down payment",SubTitle:i("EA4H.Online.DownPaymentInfoText{0}{1}",h,b),onSelected:()=>o(B.ci.DownPayment)}),l.createElement(St,{isSelected:n===B.ci.FullPayment,Title:"Full payment",SubTitle:i("EA4H.Online.FullPaymentInfoText{0}",C),onSelected:()=>o(B.ci.FullPayment)})))};const Nt=l.forwardRef((({config:e,height:t,hideHeaderText:n},o)=>{(0,r.Fg)();const a=(0,A.H)();return l.createElement(l.Fragment,null,!n&&l.createElement(v.A,{style:{textAlign:"center"}},a("EA4H.General.PleaseLeaveYourCardDetails")),l.createElement("iframe",{ref:o,style:{width:"100%",height:null!=t?t:"370px",border:0},src:e.pciIframeUrl}))}));var Ft=n(68197),Ht=n.p+"b16c4c747a1483c817c40330573ec7be.png";var Tt=e=>{var t,n,o,i,d,s;const[c,m]=(0,l.useState)(""),g=(0,l.useContext)(u.m),f=(0,A.H)(),h=(0,a.sJ)(E.o),C=(0,D.c)(),[b,k]=(0,l.useState)(""),{checkoutSettings:I}=g,x=(0,r.Fg)(),P=(0,pe.Z)(),S=C.validateNewMember.isLoading||C.addSignupDiscount.isLoading;return l.createElement(w,{iconPadding:0,color:x.css.colorRewardDark,backgroundColor:x.css.colorRewardLight,borderColor:Boolean(x.originalCSS.colorRewardLight)?x.css.colorRewardLight:void 0,title:null==(n=null==(t=null==I?void 0:I.customerDataConfig)?void 0:t.quickCheckout)?void 0:n.displayNameTranslations,icon:l.createElement("img",{width:"100%",src:Ht}),descriptionElement:l.createElement("span",null,l.createElement("span",{style:{color:x.css.colorRewardDark},dangerouslySetInnerHTML:{__html:null!=(d=null==(i=null==(o=null==I?void 0:I.membershipCheckoutConfig)?void 0:o.customerAuthenticationSignup)?void 0:i.signupLabel)?d:"asdfsdfsfsdf"}})," ",l.createElement(p.Ao.Button,{variant:"text",style:{width:"max-content"},onClick:()=>{var e,t,n,o,r,a;P.open({contentComponent:l.createElement(v.A,null,null==(t=null==(e=null==I?void 0:I.membershipCheckoutConfig)?void 0:e.customerAuthenticationSignup)?void 0:t.membershipMoreInfo),Header:null==(o=null==(n=null==I?void 0:I.customerDataConfig)?void 0:n.quickCheckout)?void 0:o.displayNameTranslations,ImageUrl:`${h}${null==(a=null==(r=null==I?void 0:I.membershipCheckoutConfig)?void 0:r.customerAuthenticationSignup)?void 0:a.membershipMoreInfoImageId}.png?maxwidth=1500&maxheight=800&scale=downscaleonly)`,coverImage:!0})}},f("EA4H.General.MoreInformation"),l.createElement(y.G,{style:{marginLeft:"5px"},icon:Ft._t})))},l.createElement("div",{style:{marginTop:"10px",display:"flex"}},l.createElement(p.Ao.Input,{value:b,onChange:e=>k(e.target.value),placeholder:f("EA4H.General.UnlockWithMobilePhoneNumber")}),l.createElement(p.Ao.ButtonWithPopover,{onClick:()=>{var e,t;if(S)return;const n=null==(t=null==(e=null==I?void 0:I.customerDataConfig)?void 0:e.quickCheckout)?void 0:t.id;n&&C.validateNewMember.mutate({customerAuthServiceNewMemberPhoneValidation:{phoneNumber:b,customerAuthServiceId:n}},{onError:e=>{m("Message"in e?e.Message:"message"in e?e.message:"Unknown error")},onSuccess:e=>{e.success?C.addSignupDiscount.mutate({bookingCode:g.bookingCode,customerAuthServiceId:n,waitForNewBasket:!1,waitForCheckoutSettings:!0}):e.errorType===B.bJ.AlreadyMember&&m(f("EA4H.Manage.Settings.Checkout.Translations.AlreadyMemberText"))}})},style:{width:"max-content",borderBottomLeftRadius:0,borderTopLeftRadius:0},isLoading:S,onPopoverClose:()=>C.validateNewMember.reset(),showPopover:C.validateNewMember.isError||!1===(null==(s=C.validateNewMember.data)?void 0:s.success),popoverText:c},"OK")))},Bt=n(43269);var Dt=({model:e})=>{var t,n,o,r,a,i,d,s,c,m;const p=(0,l.useContext)(u.m),v=(0,A.H)(),[g,f]=(0,l.useState)(!1),{data:y}=(0,_e.K)(),h=null==(r=null==(o=null==(n=null==(t=null==p?void 0:p.checkoutSettings)?void 0:t.customerDataConfig)?void 0:n.checkoutFields)?void 0:o.find((e=>e.fieldType===B.$C.TravellingForWork)))?void 0:r.shouldBeDisplayed,E=(null!=(s=null==(d=null==(i=null==(a=null==y?void 0:y.booking)?void 0:a.bookingData)?void 0:i.giftcardPayments)?void 0:d.giftCardPaymentInfo)?s:[]).length,C=null==(m=null==(c=null==y?void 0:y.booking)?void 0:c.bookingData)?void 0:m.totalPrice;return l.useEffect((()=>{window._klarnaCheckout((function(e){e.suspend()})),window._klarnaCheckout((function(e){e.resume()}))}),[E,C]),l.createElement("div",null,h&&l.createElement(H.Z,{boldLabel:!0,id:"travelling_for_work_cb",checkedColor:"currentColor",checkedBorderColor:"#000",Label:v("EA4H.General.AreYouTravellingForWork"),onChange:e=>f(e.target.checked),isChecked:g}),l.createElement(Bt.Z,{style:{marginTop:"20px"},html:e.html}))},Ot=n(9088),Gt=n(99301);const $t=()=>{var e,t;const n=(0,r.Fg)(),o=(0,A.H)(),i=(0,a.sJ)(Ot.Q),{data:d}=(0,Gt.E)(),s=(0,l.useContext)(u.m),{onlinePaymentMethods:c}=s,m=(0,l.useMemo)((()=>(0,be.W)(n.css.sidebarColor,void 0,.15).color),[]);return l.createElement("div",{style:{display:"flex",border:`1px solid ${n.css.inputBorderColor}`,padding:"20px",gap:"20px"}},l.createElement("div",{style:{backgroundImage:"url(https://online.bookvisit.com/content/img/payment/partner_maksekeskus.svg)",width:"55px",height:"55px",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain",boxShadow:`${m} 0 0 0 1px inset`}}),l.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"5px"}},l.createElement(v.A,{bold:!0,small:!0},o("EA4H.General.PaymentWithMakeCommerce")),l.createElement(v.A,{small:!0},o("EA4H.General.PaymentWithMakeCommerce{0}",i.format(null!=(e=null==c?void 0:c.fullPaymentAmount)?e:0))," ",null==c?void 0:c.currency),l.createElement("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginTop:"5px"}},null==(t=null==d?void 0:d.activeCreditCardTypes)?void 0:t.map((e=>l.createElement("div",{key:e,style:{backgroundImage:`url(https://framework.citybreakcdn.com/payment/${e}.svg)`,width:"42px",height:"26px",backgroundPosition:"center",backgroundSize:"cover",boxShadow:`${m} 0 0 0 1px inset`}}))))))};var Rt=n(3913);const _t=()=>{var e;const t=(0,r.Fg)(),n=(0,A.H)(),o=(0,Pt.$)(),a=(0,l.useContext)(u.m),{onlinePaymentMethods:i}=a,{data:d}=(0,Gt.E)(),s=(0,l.useMemo)((()=>(0,be.W)(t.css.sidebarColor,void 0,.15).color),[]),c=(0,Rt.Pi)();return l.createElement(w,{iconPadding:0,iconBackgroundColor:"transparent",icon:l.createElement("img",{width:"100%",src:"https://online.bookvisit.com/content/img/payment/dibs.png"}),title:n("EA4H.General.PaymentWithNetsEasy"),descriptionText:`${n("EA4H.General.PaymentWithNetsEasy{0}",o.format(null!=c?c:0))} ${null==i?void 0:i.currency}`},l.createElement("div",{style:{display:"flex",gap:"6px"}},null==(e=null==d?void 0:d.activeCreditCardTypes)?void 0:e.map((e=>l.createElement("div",{key:e,style:{backgroundImage:`url(https://framework.citybreakcdn.com/payment/${e}.svg)`,width:"42px",height:"26px",backgroundPosition:"center",backgroundSize:"cover",boxShadow:`${s} 0 0 0 1px inset`}})))))};var Mt=n(51092);const Lt=({isSelected:e,onSelected:t,title:n})=>{var i;const{data:d}=(0,Gt.E)(),s=(0,A.H)(),[c,u]=(0,a.FV)(x.Nw),m=(0,r.Fg)(),p=(0,o.useMediaQuery)({query:m.mediaQueries.verySmall}),g=(0,a.sJ)(x.CD);return l.useEffect((()=>{(0,vt._)(null==d?void 0:d.activeCreditCardTypes)&&u(null==d?void 0:d.activeCreditCardTypes[0])}),[]),g===B.ci.PayLater?null:l.createElement("div",{"data-hoverbg":!e,onClick:()=>{e||t()},style:{cursor:e?"default":"pointer",userSelect:"none",gap:"40px",display:"flex",padding:"20px",flexDirection:p?"column":"row"}},l.createElement("div",{style:{display:"grid",gridTemplateColumns:"25px 1fr",color:e?"green":"inherit",alignItems:e?"start":"center",height:"max-content"}},l.createElement(y.G,{style:{marginTop:e?"8px":0,color:"inherit",width:"20px"},icon:e?Mt.LE:Ft._t}),l.createElement(v.A,{style:{color:"inherit",fontWeight:e?"bold":"normal"}},n)),e&&l.createElement("div",{style:{width:"100%"}},l.createElement("div",{style:{display:"flex",width:"100%",placeContent:"space-between"}},l.createElement("strong",null,s("EA4H.Online.ChooseYourCreditCard"),":"),l.createElement("strong",null,s("EA4H.Online.AmountToPay"))),l.createElement("div",{style:{marginTop:"10px",display:"flex",flexDirection:"column",gap:"10px",justifyItems:"center"}},null==(i=null==d?void 0:d.activeCreditCardTypes)?void 0:i.map((e=>l.createElement(Wt,{key:e,onSelected:()=>u(e),isSelected:c===e,ccName:e})))),l.createElement(v.A,{small:!0,style:{marginTop:"20px"}},s("EA4H.Online.SecurePaymentInfo"))))},Wt=({ccName:e,isSelected:t,onSelected:n})=>{const o=(0,r.Fg)(),i=(0,l.useMemo)((()=>(0,be.W)(o.css.sidebarColor,void 0,.15).color),[]),d=(0,l.useContext)(u.m),{onlinePaymentMethods:s}=d,c=(0,a.sJ)(Ot.Q),m=(0,Rt.Pi)();return l.createElement("div",{onClick:n,style:{borderTop:"1px solid "+(t?"#2b8000":"transparent"),borderRight:"1px solid "+(t?"#2b8000":"transparent"),borderLeft:"1px solid "+(t?"#2b8000":"transparent"),cursor:"pointer",background:t?"#eaf5e5":"transparent",display:"grid",gridTemplateColumns:"1fr 1fr 1fr",borderBottom:"1px solid #00000024",height:"40px",alignItems:"center"}},l.createElement("div",{style:{display:"flex"}},l.createElement("input",{style:{cursor:"pointer",accentColor:"green"},type:"radio",id:e,checked:t,name:"paymentType",value:e,readOnly:!0}),l.createElement("label",{htmlFor:e,style:{marginLeft:"5px",fontWeight:"bold",cursor:"pointer",color:t?"#2b8000":"#000"}},l.createElement(v.A,{style:{cursor:"pointer",color:t?"#2b8000":o.css.cardColor}},e))),l.createElement("div",{key:e,style:{backgroundImage:`url(https://framework.citybreakcdn.com/payment/${e}.svg)`,width:"42px",height:"26px",backgroundPosition:"center",backgroundSize:"cover",boxShadow:`${i} 0 0 0 1px inset`}}),l.createElement(v.A,{style:{textAlign:"right",paddingRight:"10px"}},c.format(m)," ",null==s?void 0:s.currency))},qt=({isSelected:e,onSelected:t,hideHeaderText:n})=>{const a=(0,A.H)(),i=(0,l.useContext)(u.m),{checkoutSettings:d}=i,s=(0,r.Fg)(),c=(0,o.useMediaQuery)({query:s.mediaQueries.verySmall}),m=(0,l.useMemo)((()=>{var e;return null==(e=null==d?void 0:d.paymentConfig)?void 0:e.creditCardGuarantee}),[]);return l.createElement("div",{"data-hoverbg":!e,onClick:()=>{e||t()},style:{cursor:e?"default":"pointer",userSelect:"none",gap:"10px",display:"flex",padding:"20px",flexDirection:c?"column":"row"}},l.createElement("div",{style:{display:"grid",gridTemplateColumns:"25px 1fr",color:e?"green":"inherit",alignItems:e?"start":"center",height:"max-content"}},l.createElement(y.G,{style:{marginTop:e?"8px":0,color:"inherit"},icon:e?Mt.LE:Ft._t}),l.createElement(v.A,{style:{color:"inherit",fontWeight:e?"bold":"normal"}},a("EA4H.General.CreditCardGuarantee"))),m&&l.createElement(Nt,{hideHeaderText:n,height:"320px",config:m}))},jt=(0,a.cn)({key:"payInAdvanceOrCCGuaranteeState",default:void 0}),Vt=({onlyPayInAdvance:e})=>{const[t,n]=(0,a.FV)(jt),o=(0,l.useContext)(u.m),{checkoutSettings:r}=o,i=(0,A.H)();return(0,l.useEffect)((()=>{var t;(null==(t=null==r?void 0:r.paymentConfig)?void 0:t.creditCardGuarantee)||e||n("pay_in_advance")}),[]),l.createElement(S.S0,null,!e&&l.createElement(qt,{hideHeaderText:!0,onSelected:()=>n("cc_guarantee"),isSelected:"cc_guarantee"===t}),l.createElement(Lt,{title:i(e?"EA4H.Online.CreditCard":"EA4H.Online.PayNowCreditCard"),onSelected:()=>{e||n("pay_in_advance")},isSelected:"pay_in_advance"===t||Boolean(e)}))};var Jt=n(72008),Zt=n(2541),Kt=n(26251);const zt=({giftCardPaymentInfo:e})=>{var t;const[n,o]=(0,l.useState)(!1),r=(0,D.c)(),i=(0,l.useContext)(u.m),d=(0,a.sJ)(Ot.Q),s=e=>{return t=void 0,n=null,l=function*(){o(!0),yield r.removeVoucher.mutateAsync({request:{voucherNumber:e},bookingCode:i.bookingCode,waitForCheckoutSettings:!0}),o(!1)},new Promise(((e,o)=>{var r=e=>{try{i(l.next(e))}catch(e){o(e)}},a=e=>{try{i(l.throw(e))}catch(e){o(e)}},i=t=>t.done?e(t.value):Promise.resolve(t.value).then(r,a);i((l=l.apply(t,n)).next())}));var t,n,l};return l.createElement(S.hK,{key:e.number},l.createElement(p.SK,null,e.number),l.createElement("div",{style:{display:"flex",gap:"2px"}},l.createElement(S.fd,null,l.createElement(p.SK,{bold:!0,style:{color:"#fff"}},d.format(null!=(t=e.amount)?t:0)," ",e.currency),l.createElement(y.G,{icon:Mt.LE})),l.createElement(S.dI,{onClick:()=>s(e.number)},!n&&l.createElement(y.G,{style:{color:"#fff",fontSize:"20px"},icon:Zt.faXmark}),n&&l.createElement("div",{style:{position:"absolute",inset:0,display:"grid",placeContent:"center"}},l.createElement(Kt.Z,{color:"#fff"})))))},Ut=()=>{var e,t,n;const{data:o}=(0,_e.K)(),r=null==(t=null==(e=null==o?void 0:o.booking)?void 0:e.bookingData)?void 0:t.giftcardPayments;return(0,vt._)(null==r?void 0:r.giftCardPaymentInfo)?l.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"10px"}},null==(n=null==r?void 0:r.giftCardPaymentInfo)?void 0:n.map((e=>l.createElement(zt,{key:e.number,giftCardPaymentInfo:e})))):null};var Qt=n(71489),Yt=n(59838);const Xt=()=>{var e,t,n,o,a,i,d,s;const c=(0,r.Fg)(),u=(0,A.H)(),{data:m}=(0,_e.K)(),v=(0,Rt.Pi)(),g=null==(t=null==(e=null==m?void 0:m.booking)?void 0:e.bookingData)?void 0:t.giftcardPayments;if(!Boolean(null==g?void 0:g.amountLeftToPay))return null;const f=null==(n=null==g?void 0:g.giftCardPaymentInfo)?void 0:n.filter((e=>e.isLockedToPackage)).map((e=>e.amount)).reduce(((e,t)=>e+t),0);return l.createElement(S.$j,null,l.createElement(y.G,{style:{color:c.css.offerColorDark,fontSize:"26px",marginTop:"5px"},icon:Yt.faCircleInfo}),l.createElement("div",null,l.createElement(p.SK,{bold:!0},u("EA4H.General.GiftCardAmountNotLargeEnoughTitle{0}",`${(null!=(i=null==(a=null==(o=null==m?void 0:m.booking)?void 0:o.bookingData)?void 0:a.totalPrice)?i:0)-(null!=f?f:0)} ${null==(s=null==(d=null==m?void 0:m.booking)?void 0:d.bookingData)?void 0:s.currencyCode}`)),l.createElement(p.SK,null,u("EA4H.General.GiftCardAmountLeftToPayDescription{0}",`${v}`))))},en=({amountLeft:e})=>{var t,n,o,r,i,d,s,c;const u=(0,A.H)(),m=(0,a.sJ)(Ot.Q),{data:v}=(0,_e.K)(),g=null==(n=null==(t=null==v?void 0:v.booking)?void 0:t.bookingData)?void 0:n.giftcardPayments;return!Boolean(null==g?void 0:g.amountLeftToPay)&&Boolean(1===(null==(o=null==g?void 0:g.giftCardPaymentInfo)?void 0:o.length))?l.createElement(S.$j,null,l.createElement(y.G,{style:{color:"#5E9C22",fontSize:"26px",marginTop:"5px"},icon:Yt.faCircleInfo}),l.createElement("div",null,l.createElement(p.SK,{bold:!0},u("EA4H.General.GiftCardAmountLargeEnoughTitle{0}",`${m.format(null!=(d=null==(i=null==(r=null==v?void 0:v.booking)?void 0:r.bookingData)?void 0:i.totalPrice)?d:0)} ${null==(c=null==(s=null==v?void 0:v.booking)?void 0:s.bookingData)?void 0:c.currencyCode}`)),l.createElement(p.SK,null,u("EA4H.General.AmountLeftOnGiftCardDescription{0}",`${m.format(e)}`)))):null};var tn=()=>{var e,t;const n=(0,r.Fg)(),o=(0,A.H)(),[a,i]=(0,l.useState)(""),d=(0,l.useContext)(u.m),{checkoutSettings:s}=d,[c,m]=(0,l.useState)(""),v=(0,D.c)(),[g,f]=(0,l.useState)(),[h,E]=(0,l.useState)(!1);return(null==(e=null==s?void 0:s.paymentConfig)?void 0:e.allowVoucherPayment)?l.createElement(l.Fragment,null,l.createElement(w,{title:o("EA4H.General.PayWithYourGiftCard"),descriptionText:o("EA4H.General.GiftCardPaymentInfo"),icon:l.createElement(y.G,{fontWeight:100,style:{width:"100%",height:"100%",color:n.css.accentDarkFontColor},icon:Jt.Cl})},l.createElement("div",{style:{display:"grid",gridTemplateColumns:"minmax(0,440px)"}},l.createElement(Ut,null),l.createElement(lt.U,{in:h},l.createElement("div",{style:{margin:"10px 0px"}},l.createElement("div",{style:{display:"flex"}},l.createElement(p.II,{value:c,onChange:e=>m(e.target.value),placeholder:o("EA4H.General.VoucherNumber"),style:{borderColor:n.css.buttonBackground,width:"100%",maxWidth:"400px",borderBottomRightRadius:0,borderTopRightRadius:0}}),l.createElement(T.w,{onClick:()=>{v.redeemVoucher.isLoading||""===c||v.redeemVoucher.mutate({request:{voucherNumber:c},waitForCheckoutSettings:!0,bookingCode:d.bookingCode},{onError:e=>{i("Message"in e?e.Message:"message"in e?e.message:"Unknown error")},onSuccess:e=>{var t;i(e.success?"Success!":null!=(t=e.error)?t:""),e.success&&(f(e.amountLeft),m(""))}})},style:{width:"max-content",borderBottomLeftRadius:0,borderTopLeftRadius:0,borderTopRightRadius:n.css.inputRoundedCorners,borderBottomRightRadius:n.css.inputRoundedCorners},popoverStyle:(0,p.sk)(n,!0),popoverArrowStyle:{border:0},isLoading:v.redeemVoucher.isLoading,onPopoverClose:()=>v.redeemVoucher.reset(),showPopover:v.redeemVoucher.isError||!1===(null==(t=v.redeemVoucher.data)?void 0:t.success),popoverText:a},"OK")),l.createElement(Xt,null),l.createElement(en,{amountLeft:g}))),l.createElement(ne.z,{withIcon:!0,variant:"text",style:{width:"max-content"},onClick:()=>E((e=>!e))},o(h?"EA4H.General.HideGiftCardNumber":"EA4H.General.ShowGiftCardNumber"),l.createElement(y.G,{icon:Qt.mT,style:{transform:`rotate(${h?"0":"180"}deg)`}}))))):null};const nn=()=>{var e;const t=(0,r.Fg)(),n=(0,A.H)(),o=(0,a.sJ)(Ot.Q),i=(0,l.useContext)(u.m),{onlinePaymentMethods:d}=i,{data:s}=(0,Gt.E)(),c=(0,l.useMemo)((()=>(0,be.W)(t.css.sidebarColor,void 0,.15).color),[]),m=(0,Rt.Pi)();return l.createElement(w,{iconPadding:0,iconBackgroundColor:"transparent",icon:l.createElement("img",{width:"100%",src:"https://framework.citybreakcdn.com/payment/partner_nexi.svg"}),title:n("EA4H.General.PaymentWithNexi"),descriptionText:`${n("EA4H.General.PaymentWithNexi{0}",o.format(null!=m?m:0))} ${null==d?void 0:d.currency}`},l.createElement("div",{style:{display:"flex",gap:"6px"}},null==(e=null==s?void 0:s.activeCreditCardTypes)?void 0:e.map((e=>l.createElement("div",{key:e,style:{backgroundImage:`url(https://framework.citybreakcdn.com/payment/${e}.svg)`,width:"42px",height:"26px",backgroundPosition:"center",backgroundSize:"cover",boxShadow:`${c} 0 0 0 1px inset`}})))))};var ln=Object.defineProperty,on=Object.getOwnPropertySymbols,rn=Object.prototype.hasOwnProperty,an=Object.prototype.propertyIsEnumerable,dn=(e,t,n)=>t in e?ln(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const sn=e=>l.createElement(l.Suspense,{fallback:l.createElement(c.c,{height:"200px"})},l.createElement(cn,((e,t)=>{for(var n in t||(t={}))rn.call(t,n)&&dn(e,n,t[n]);if(on)for(var n of on(t))an.call(t,n)&&dn(e,n,t[n]);return e})({},e))),cn=({ccGuaranteeIFrameRef:e})=>{var t,n,o,r,a,i,d,s,c,m,p,v,f,y,h,E,C,b,k,I;const x=(0,A.H)(),P=(0,l.useContext)(u.m),S=!P.isMPAgentBooking,w=null==(t=null==P?void 0:P.checkoutSettings)?void 0:t.paymentConfig;if(!S)return null;const N=Boolean(null==(o=null==(n=null==P?void 0:P.checkoutSettings)?void 0:n.paymentConfig)?void 0:o.allowVoucherPayment),F=Boolean((null==(i=null==(a=null==(r=null==P?void 0:P.checkoutSettings)?void 0:r.customerDataConfig)?void 0:a.quickCheckout)?void 0:i.authServiceType)===B.Hp.EssGroup),H=Boolean((null==P?void 0:P.onlinePaymentMethodsEnabled)&&(null==(d=null==P?void 0:P.onlinePaymentMethods)?void 0:d.klarnaCheckout))&&Boolean(null==(s=null==P?void 0:P.onlinePaymentMethods)?void 0:s.klarnaCheckoutModel),T=Boolean((null==P?void 0:P.onlinePaymentMethodsEnabled)&&(null==(c=P.onlinePaymentMethods)?void 0:c.makeCommerce)),D=Boolean((null==P?void 0:P.onlinePaymentMethodsEnabled)&&(null==(m=P.onlinePaymentMethods)?void 0:m.dibsEasy)),O=Boolean((null==P?void 0:P.onlinePaymentMethodsEnabled)&&(null==(p=P.onlinePaymentMethods)?void 0:p.nexi)),G=Boolean(null==(f=null==(v=null==P?void 0:P.checkoutSettings)?void 0:v.paymentConfig)?void 0:f.creditCardGuarantee),$=(0,vt._)(null==(h=null==(y=P.onlinePaymentMethods)?void 0:y.onlineCreditCard)?void 0:h.availableCreditCardChoices);return l.createElement(g,{title:x("EA4H.General.PaymentInformation")},l.createElement(It.K,{spacing:20},N&&l.createElement(tn,null),F&&l.createElement(Tt,null),H&&l.createElement(Dt,{model:null==(E=null==P?void 0:P.onlinePaymentMethods)?void 0:E.klarnaCheckoutModel}),!H&&l.createElement(wt,null),!H&&T&&l.createElement($t,null),D&&l.createElement(_t,null),O&&l.createElement(nn,null),!H&&$&&(G&&(null==w?void 0:w.enablePaymentMethodUpgrade)||(null==w?void 0:w.paymentPolicyOption)===B.wp.PrePaidAtTheTimeOfTheBooking)&&l.createElement(Vt,{onlyPayInAdvance:(null==w?void 0:w.paymentPolicyOption)===B.wp.PrePaidAtTheTimeOfTheBooking}),G&&(!(null==(b=null==(C=null==P?void 0:P.checkoutSettings)?void 0:C.paymentConfig)?void 0:b.enablePaymentMethodUpgrade)||!$)&&l.createElement(Nt,{ref:e,config:null==(I=null==(k=null==P?void 0:P.checkoutSettings)?void 0:k.paymentConfig)?void 0:I.creditCardGuarantee})))};var un=n(20399),mn=n(20291),pn=n(43984),vn=n(41024),gn=n(56384),fn=n(20628),yn=n(70711),hn=n(11392),En=n(96690),Cn=n(91696),bn=n(14739),kn=n(63814),An=n(85438),In=n(82361),xn=n(88718),Pn=n(82061),Sn=n(13163),wn=n(64868),Nn=n(26594),Fn=(e,t,n)=>new Promise(((l,o)=>{var r=e=>{try{i(n.next(e))}catch(e){o(e)}},a=e=>{try{i(n.throw(e))}catch(e){o(e)}},i=e=>e.done?l(e.value):Promise.resolve(e.value).then(r,a);i((n=n.apply(e,t)).next())}));const Hn=({customerForm:e,guestInfoForm:t,guestInfoFormDOMRef:n,creditCardGuaranteeIframeRef:i,responsibleForBookingSectionRef:d,noCancelButton:s,noConfirmButton:c})=>{var p,g,f,E,C,b,k,I,P,S,w,N;const F=(0,a.sJ)(x.CD),O=(0,a.sJ)(x.Nw),G=(0,a.sJ)(jt),$=(0,a.Zl)(Sn.g),R=(0,a.Zl)(h.l),_=(0,a.Zl)(En.n),M=(0,a.Zl)(hn.x),L=(0,a.Zl)(fn.x),W=(0,a.Zl)(yn.N),q=(0,a.Zl)(Cn.v),j=(0,a.Zl)(bn.w),V=(0,a.sJ)(x.yX),J=(0,a.sJ)(x.Ci),[Z,K]=(0,l.useState)(null),[z,U]=(0,l.useState)(null),[Q,Y]=(0,l.useState)(),{data:X}=(0,Gt.E)(),ee=(0,A.H)(),te=(0,l.useContext)(u.m),{checkoutSettings:le}=te,{data:oe}=(0,_e.K)(),re=(0,r.Fg)(),{updateBasket:ae,commitBasket:ie}=(0,D.c)(),de=(0,Nn.N)(),{registerPixelEvent:se}=(0,An.t)(),ce=(0,un.useQueryClient)(),ue=(0,a.sJ)(fn.x),me=(0,mn.k6)(),ve=(0,o.useMediaQuery)({query:re.mediaQueries.verySmall}),ge=(0,In.Z)(),fe=(0,xn.Z)(),he=(0,pe.Z)(),Ce=(0,ye.c)({initialValues:{allowEmailAdvertising:!1,acceptedPropertyTermsAndConditions:!1,acceptedMultiPropertyTermsAndConditions:!1},validate:{acceptedPropertyTermsAndConditions:e=>e?null:"Property terms & conditions is required"}});(0,l.useEffect)((()=>{const e=e=>{var t;if("valid"===e.data){const e=i.current;e&&(null==(t=e.contentWindow)||t.postMessage("submit","https://service.pcibooking.net"))}else"success"===e.data.result&&ke()};return window.addEventListener("message",e,!1),function(){window.removeEventListener("message",e)}})),(0,l.useEffect)((()=>{if(!Z){const e=document.querySelector('[href*="terms_and_conditions"]');if(!e)return;e.onclick=e=>{Be(e)},K(e)}}),[Z]),(0,l.useEffect)((()=>{if(!Z){const e=document.querySelector('[href*="#bv-js-mpprivacypolicy"]');if(!e)return;e.onclick=e=>{Oe(e)},K(e)}}),[Z]),(0,l.useEffect)((()=>{if(!z){const e=document.querySelector('[href*="#bv-js-privacypolicy"]');if(!e)return;e.onclick=e=>{De(e)},U(e)}}),[z]);const be=()=>Fn(void 0,null,(function*(){(0,Pn.U)(),setTimeout((()=>{ce.setQueryData(["basket",null==X?void 0:X.channelId],(e=>{}))}),500);let e="Package"===(null==ue?void 0:ue.objectType)||"Campaign"===(null==ue?void 0:ue.objectType)?"/package":"/accommodation";$(""),yield Fn(void 0,null,(function*(){R(void 0),_(void 0),M(void 0),L(void 0),W(!1),q([1]),j([1]),(null==oe?void 0:oe.booking)&&(yield de.mutateAsync({}))})),me.push(e)})),ke=()=>Fn(void 0,null,(function*(){var e,t,n,l;const o={channelId:null==X?void 0:X.channelId,checkoutUrl:window.location.href,creditCardType:O};V.verified&&(o.myPageMemberSignup={email:V.email,password:V.password});const r=yield ie.mutateAsync(o);if(!Boolean(r.error)&&Boolean(null==r?void 0:r.redirectUrl))if(se(An.p.PURCHASE,{value:null==(t=null==(e=null==oe?void 0:oe.booking)?void 0:e.bookingData)?void 0:t.originalTotalPrice}),r.status===B.fz.Succeeded&&Boolean(null==te?void 0:te.onSuccessfulCheckout))r.bookingCode?null==(n=null==te?void 0:te.onSuccessfulCheckout)||n.call(te,r.bookingCode):r.bookingRequestId&&(null==(l=null==te?void 0:te.onSuccessfulCheckout)||l.call(te,r.bookingRequestId));else{const e=sessionStorage.getItem(kn.z);if(e){const t=(0,gn.a)(e);window.location.assign(`${r.redirectUrl}&sessionId=${t.SessionId}`)}}else Y(r.error)})),Ae=null==(p=null==te?void 0:te.onlinePaymentMethods)?void 0:p.hasOnlinePaymentMethod,Ie=null==(g=null==te?void 0:te.onlinePaymentMethods)?void 0:g.dibsEasy,xe=null==(C=null==(E=null==(f=null==le?void 0:le.customerDataConfig)?void 0:f.checkoutFields)?void 0:E.find((e=>e.fieldType===B.$C.AllowEmailAdvertising)))?void 0:C.shouldBeDisplayed,Pe=null==(b=null==le?void 0:le.customerData)?void 0:b.isCorpCustomer,Se=null==(I=null==(k=null==oe?void 0:oe.booking)?void 0:k.bookingData)?void 0:I.isAgentBooking,we=Boolean(null==(P=null==le?void 0:le.propertyPrivacyPolicy)?void 0:P.name)?(0,wn.n)(ee("EA4H.Conference.TermsAndConditionsPrivacyFull{0}{1}"),"terms_and_conditions",null==(S=null==le?void 0:le.propertyPrivacyPolicy)?void 0:S.name):(0,wn.n)(ee("EA4H.Conference.TermsAndConditionsFull{0}"),"terms_and_conditions"),Fe=null==le?void 0:le.multiPropertyPrivacyPolicy,He=Fe&&(Fe.url||Fe.name),Te=Boolean(null==Fe?void 0:Fe.url)?(0,wn.n)(ee("EA4H.Online.MPPrivacyFullLink{0}{1}"),null==Fe?void 0:Fe.name,null==Fe?void 0:Fe.url):(0,wn.n)(ee("EA4H.Online.MPPrivacyPrivacyFull{0}"),null==Fe?void 0:Fe.name),Be=e=>{var t,n,l,o,r,a;e.preventDefault();const i=null==(l=null==(n=null==(t=null==oe?void 0:oe.booking)?void 0:t.bookingData)?void 0:n.cancellationPolicyDescriptions)?void 0:l[0],d=null==(a=null==(r=null==(o=null==oe?void 0:oe.booking)?void 0:o.bookingData)?void 0:r.paymentPolicyInformations)?void 0:a[0];(d||i)&&fe.open({paymentPolicy:d,cancellationPolicy:i})},De=e=>{var t,n,o,r;e.preventDefault(),((null==(t=null==le?void 0:le.propertyPrivacyPolicy)?void 0:t.name)||(null==(n=null==le?void 0:le.propertyPrivacyPolicy)?void 0:n.description))&&he.open({Header:null==(o=null==le?void 0:le.propertyPrivacyPolicy)?void 0:o.name,contentComponent:l.createElement(v.A,null,null==(r=null==le?void 0:le.propertyPrivacyPolicy)?void 0:r.description),ImageUrl:void 0})},Oe=e=>{e.preventDefault(),(Fe.name||Fe.description)&&he.open({Header:Fe.name,contentComponent:l.createElement(v.A,null,Fe.description),ImageUrl:void 0})},Ge=Ce.errors,$e=ae.isLoading||ie.isLoading;return te.onlinePaymentMethodsEnabled&&(null==(w=te.onlinePaymentMethods)?void 0:w.klarnaCheckout)?null:l.createElement(l.Fragment,null,Se?null:l.createElement(l.Fragment,null,Object.keys(Ge).length>0?l.createElement(Ee,{title:ee("EA4H.Checkout.Error.InformationForConfirmTermsAndCondtions")}):null,l.createElement(H.Z,{id:"t_c_cb",boldLabel:!0,error:Ge.hasOwnProperty("acceptedPropertyTermsAndConditions"),labelColor:re.css.cardColor,testId:"checkout_accepttermsandconditions",checkedColor:re.css.selectedDarkFontColor,checkedBorderColor:re.css.darkSelectedColor,checkedBackground:re.css.darkSelectedColor,Label:l.createElement(Bt.Z,{html:we}),onChange:e=>Ce.setFieldValue("acceptedPropertyTermsAndConditions",e.target.checked),isChecked:Ce.values.acceptedPropertyTermsAndConditions}),He?l.createElement(m.W,{p:0,m:0,mt:10},l.createElement(H.Z,{id:"terms_and_conditions_cb",boldLabel:!0,labelColor:re.css.cardColor,checkedColor:re.css.selectedDarkFontColor,"data-testid":"checkout_accepttermsandconditions",checkedBorderColor:re.css.darkSelectedColor,checkedBackground:re.css.darkSelectedColor,Label:l.createElement(Bt.Z,{html:Te}),onChange:e=>Ce.setFieldValue("acceptedMultiPropertyTermsAndConditions",e.target.checked),isChecked:Ce.values.acceptedMultiPropertyTermsAndConditions})):null,xe&&!Pe?l.createElement(m.W,{p:0,m:0,mt:10},l.createElement(H.Z,{id:"newletter_cb",labelColor:re.css.cardColor,checkedColor:re.css.selectedDarkFontColor,checkedBorderColor:re.css.darkSelectedColor,checkedBackground:re.css.darkSelectedColor,Label:ee("EA4H.General.ILikeToSubscribeToNewsletter"),onChange:e=>Ce.setFieldValue("allowEmailAdvertising",e.target.checked),isChecked:Ce.values.allowEmailAdvertising})):null),l.createElement(m.W,{p:0,mt:25},l.createElement(Ne.Z,{spacing:0,position:"apart"},l.createElement(ne.z,{variant:"large",onClick:()=>{ge.open({confirmFunction:()=>new Promise(((e,t)=>Fn(void 0,null,(function*(){return be(),e()})))),question:`${ee("EA4H.General.CancelBookingAndReturnToStartPage")}?`,title:ee("EA4H.General.CancelBooking")})},hidden:s,inverted:!0,style:{width:ve?"100%":"max-content",maxWidth:ve?"100%":"unset"},withIcon:!0},l.createElement(y.G,{style:{width:20},icon:vn.$}),ee("EA4H.General.AbortBooking")),l.createElement(T.w,{"data-testid":"checkout_confirmbooking",hidden:c,name:"confirm_booking_button",variant:"large",withIcon:!0,onClick:()=>Fn(void 0,null,(function*(){var l,o,r,a,s,c,u,m,p,v,g,f,y,h,E,C,b,k,A,I,x,P,S,w,N,H,T,B;const D=(()=>{var l,o,r,a;const i=Ce.validate(),s=null==(l=null==e?void 0:e.current)?void 0:l.validate(),c=null==(o=null==t?void 0:t.current)?void 0:o.validate();return(null==s?void 0:s.hasErrors)?null==(r=null==d?void 0:d.current)||r.scrollIntoView({behavior:"smooth"}):(null==c?void 0:c.hasErrors)&&(null==(a=n.current)||a.scrollIntoView({behavior:"smooth"})),!i.hasErrors&&!(null==s?void 0:s.hasErrors)&&!(null==c?void 0:c.hasErrors)})();if(!D)return;const O={directPaymentOverrideChosen:"pay_in_advance"===G,bookingCode:null==(l=null==oe?void 0:oe.booking)?void 0:l.bookingCode,roomGuests:null==(o=null==t?void 0:t.current)?void 0:o.values.guestDataConfig.flatMap((e=>{const t=[];return e.guestInfos.forEach((e=>{t.push({guestId:e.guestId,firstName:e.firstName,lastName:e.lastName,email:e.email,phoneNumber:e.phoneNumber})})),t}))};if(O.customer={allowEmailAdvertising:Ce.values.allowEmailAdvertising,city:null==(r=null==e?void 0:e.current)?void 0:r.values.city,coAddress:null==(a=null==e?void 0:e.current)?void 0:a.values.coAddress,countryCode:null==(s=null==e?void 0:e.current)?void 0:s.values.countryCode,email:null==(c=null==e?void 0:e.current)?void 0:c.values.emailAddress,firstName:null==(u=null==e?void 0:e.current)?void 0:u.values.firstName,lastName:null==(m=null==e?void 0:e.current)?void 0:m.values.lastName,phoneCountryCode:null==(p=null==e?void 0:e.current)?void 0:p.values.phoneCountryCode,phoneNumber:null==(v=null==e?void 0:e.current)?void 0:v.values.phoneNumber,streetAddress:null==(g=null==e?void 0:e.current)?void 0:g.values.street,postalCode:null==(f=null==e?void 0:e.current)?void 0:f.values.postalCode,company:null==(y=null==e?void 0:e.current)?void 0:y.values.companyName,isCorpCustomer:null==(h=null==e?void 0:e.current)?void 0:h.values.isCorporateCustomer,department:null==(E=null==e?void 0:e.current)?void 0:E.values.department,organizationNumber:null==(C=null==e?void 0:e.current)?void 0:C.values.organizationNumber,travellingForWork:null==(b=null==e?void 0:e.current)?void 0:b.values.travellingForWork},F&&(O.paymentTypeOption=F),J&&(O.specialRequest=J),(null==(A=null==(k=null==oe?void 0:oe.booking)?void 0:k.bookingData)?void 0:A.isMpAgentBooking)?yield ae.mutateAsync({request:{customer:{multiPropertyAgentReferenceName:null==(I=e.current)?void 0:I.values.mpAgentReference,firstName:null==(x=null==e?void 0:e.current)?void 0:x.values.firstName,lastName:null==(P=null==e?void 0:e.current)?void 0:P.values.lastName,email:null==(S=null==e?void 0:e.current)?void 0:S.values.emailAddress,travellingForWork:null==(w=null==e?void 0:e.current)?void 0:w.values.travellingForWork,phoneCountryCode:null==(N=null==e?void 0:e.current)?void 0:N.values.phoneCountryCode,phoneNumber:null==(H=null==e?void 0:e.current)?void 0:H.values.phoneNumber,countryCode:null==(T=null==e?void 0:e.current)?void 0:T.values.countryCode},specialRequest:J,bookingCode:te.bookingCode}}):yield ae.mutateAsync({request:O}),(null==(B=null==le?void 0:le.paymentConfig)?void 0:B.creditCardGuarantee)&&"pay_in_advance"!==G){const e=i.current;e&&(null==e||e.contentWindow.postMessage("validate","https://service.pcibooking.net"))}else ke()})),style:{width:ve?"100%":"max-content",maxWidth:ve?"100%":"unset",marginTop:ve?10:"unset"},isLoading:$e,onPopoverClose:()=>{ie.reset(),ae.reset()},showPopover:(null==(N=ie.data)?void 0:N.status)===B.fz.Failed,popoverText:`${Q}`},ee(Ae&&Ie?"EA4H.General.ContinueToPayment":"EA4H.General.ConfirmBooking"),l.createElement(y.G,{style:{width:20},icon:pn.eF})))))};var Tn=Object.defineProperty,Bn=Object.getOwnPropertySymbols,Dn=Object.prototype.hasOwnProperty,On=Object.prototype.propertyIsEnumerable,Gn=(e,t,n)=>t in e?Tn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const $n=e=>l.createElement(l.Suspense,{fallback:l.createElement(c.c,{height:"200px"})},l.createElement(Rn,((e,t)=>{for(var n in t||(t={}))Dn.call(t,n)&&Gn(e,n,t[n]);if(Bn)for(var n of Bn(t))On.call(t,n)&&Gn(e,n,t[n]);return e})({},e))),Rn=({creditCardGuaranteeIframeRef:e,customerForm:t,guestInfoForm:n,guestInfoFormDOMRef:o,responsibleForBookingSectionRef:r,noConfirmButton:a,noCancelButton:i})=>{var d;const s=(0,l.useContext)(u.m);return!Boolean(null==(d=s.onlinePaymentMethods)?void 0:d.klarnaCheckout)?l.createElement(l.Suspense,{fallback:l.createElement("p",null,"loading confirm section")},l.createElement(g,{noBottomPadding:!0,title:""},l.createElement(Hn,{creditCardGuaranteeIframeRef:e,customerForm:t,guestInfoForm:n,guestInfoFormDOMRef:o,responsibleForBookingSectionRef:r,noConfirmButton:a,noCancelButton:i}))):null};var _n=n(73903),Mn=n.p+"44de95a27cf9afa138d7d7cef6dccb40.png";var Ln=({onSuccess:e,onError:t})=>{var n;const o=(0,A.H)(),a=(0,l.useContext)(u.m),{checkoutSettings:i}=a,d=(0,r.Fg)(),s=(0,_n.Nq)({onSuccess:n=>{(0,Rt.zR)(n.access_token,e,t)}});return(null==(n=null==i?void 0:i.customerDataConfig)?void 0:n.socialLoginActivated)?l.createElement("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",gap:"10px",marginBottom:"20px"}},l.createElement(v.A,null,o("EA4H.General.SocialLoginDescription")),l.createElement("div",{style:{display:"flex",placeContent:"center"}},l.createElement(ne.z,{style:{maxWidth:"max-content",gap:"10px",padding:"0px 10px",whiteSpace:"nowrap",height:"40px",background:"#de5246",borderColor:"#de5246"},withIcon:!0,onClick:()=>s()},l.createElement("img",{style:{height:"50%"},src:Mn}),l.createElement("div",{style:{height:"100%",width:"1px",background:d.css.frameworkBackground}}),o("EA4H.General.LogInWithSocialProvider{0}","Google")))):null},Wn=Object.defineProperty,qn=Object.getOwnPropertySymbols,jn=Object.prototype.hasOwnProperty,Vn=Object.prototype.propertyIsEnumerable,Jn=(e,t,n)=>t in e?Wn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Zn=e=>l.createElement(l.Suspense,{fallback:l.createElement(c.c,{height:"200px"})},l.createElement(Kn,((e,t)=>{for(var n in t||(t={}))jn.call(t,n)&&Jn(e,n,t[n]);if(qn)for(var n of qn(t))Vn.call(t,n)&&Jn(e,n,t[n]);return e})({},e))),Kn=({onSuccess:e})=>{var t,n;const o=(0,l.useContext)(u.m),r=Boolean(o.onlinePaymentMethodsEnabled&&(null==(t=null==o?void 0:o.onlinePaymentMethods)?void 0:t.dibsEasy));return Boolean(!r&&(null==(n=o.checkoutSettings.customerDataConfig)?void 0:n.socialLoginActivated))?l.createElement(g,null,l.createElement(Ln,{onSuccess:e})):null},zn=(0,a.cn)({key:"cancellationInsuranceChoiceMadeState",default:!1}),Un="#2b8000",Qn="#891d1d",Yn=({cancellationInsurance:e,onAddClicked:t,onRemoveClicked:n})=>{var o,i,d,s;const{data:c}=(0,_e.K)(),u=(0,Pt.$)(),m=(0,r.Fg)(),{data:v}=(0,Gt.E)(),g=(0,A.H)(),f=(0,l.useId)(),y=(0,a.sJ)(zn),h=(0,un.useIsMutating)("updateBasket"),E=null==(d=null==(i=null==(o=null==c?void 0:c.booking)?void 0:o.bookingData)?void 0:i.optionalAddOns)?void 0:d.some((t=>t.addOnId===e.addOnId)),C=(0,un.useIsMutating)("updateBasket",{predicate:t=>{var n,l,o;return(null==(o=(null==(l=null==(n=null==t?void 0:t.options)?void 0:n.variables)?void 0:l.request).updateCancellationInsuranceRequest)?void 0:o.selectedCancellationInsuranceAddOnId)===e.addOnId}}),b=(0,un.useIsMutating)("updateBasket",{predicate:e=>{var t,n,l;return void 0===(null==(l=(null==(n=null==(t=null==e?void 0:e.options)?void 0:t.variables)?void 0:n.request).updateCancellationInsuranceRequest)?void 0:l.selectedCancellationInsuranceAddOnId)}}),k=h>0,I=Boolean(E||C)&&!b,x=Boolean(!E||b)&&!C&&y;return l.createElement(S._L,{style:{pointerEvents:k?"none":"auto"}},l.createElement("div",{style:{borderRadius:"100%",minWidth:"80px",height:"80px",backgroundPosition:"center",backgroundSize:"cover",backgroundImage:`url(//${null==(s=e.image)?void 0:s.url}?maxwidth=100&maxheight=100&scale=downscaleonly&anchor=MiddleCenter&crop=1)`}}),l.createElement("div",null,l.createElement(p.SK,{bold:!0},e.name," ",l.createElement("span",{style:{whiteSpace:"nowrap"}},u.format(e.totalPrice)," ",null==v?void 0:v.currency," ",g("EA4H.General.PerBooking"))),l.createElement(p.SK,{style:{paddingTop:"5px"}},e.description)),l.createElement(S.OL,null,l.createElement(S.tp,{style:{position:"relative",border:`1px solid ${I?Un:m.css.inputBorderColor}`,cursor:"pointer",background:I?"#eaf5e5":"transparent"},onClick:t},l.createElement("input",{style:{cursor:"pointer",accentColor:"green"},type:"radio",id:"addToCart",checked:I,name:`${f}_add_to_cart_${e.name}`,value:"addToCart",readOnly:!0}),l.createElement("label",{htmlFor:`${f}_add_to_cart_${e.name}`,style:{marginLeft:"5px",fontWeight:"bold",cursor:"pointer",color:C?"transparent":I?Un:"#000"}},g("EA4H.General.AddToCart")),Boolean(C)&&l.createElement("div",{style:{position:"absolute",inset:0,display:"grid",placeContent:"center"}},l.createElement(Kt.Z,{inverted:!1,color:Un}))),l.createElement(S.tp,{style:{position:"relative",border:`1px solid ${x?Qn:m.css.inputBorderColor}`,cursor:"pointer",background:x?"#FFE6E6":"transparent"},onClick:n},l.createElement("input",{style:{cursor:"pointer",accentColor:Qn},checked:x,type:"radio",id:"notInterested",name:`${f}_not_interested_${e.name}`,value:"notInterested",readOnly:!0}),l.createElement("label",{style:{marginLeft:"5px",fontWeight:"bold",cursor:"pointer",color:b?"transparent":x?Qn:"#000"},htmlFor:`${f}_not_interested_${e.name}`},g("EA4H.General.NotInterested")),Boolean(b)&&l.createElement("div",{style:{position:"absolute",inset:0,display:"grid",placeContent:"center"}},l.createElement(Kt.Z,{inverted:!1,color:Qn})))))};var Xn=n(30648),el=n(19961),tl=n(41347);const nl=()=>l.createElement(l.Suspense,{fallback:l.createElement(c.c,{height:"200px"})},l.createElement(ll,null)),ll=()=>{var e;const t=(0,r.Fg)(),n=(0,o.useMediaQuery)({query:t.mediaQueries.verySmall}),i=(0,A.H)(),{data:d}=(0,_e.K)(),[s,c]=(0,l.useState)(!1),{data:u,status:m}=(()=>{const e=l.useContext(tl.y);return(0,un.useQuery)("cancellation_insurance_upsell",(()=>e.APIClient.basketsCancellationInsuranceV1(+e.languageId,e.channelId)),{suspense:!0,refetchOnWindowFocus:!1})})(),p=null!=(e=null==u?void 0:u.cancellationInsurances)?e:[],[v,f]=(0,a.FV)(zn),y=(0,D.c)(),h=(0,un.useIsMutating)("updateBasket")>0,E=null==p?void 0:p.find((e=>{var t,n,l;return null==(l=null==(n=null==(t=null==d?void 0:d.booking)?void 0:t.bookingData)?void 0:n.optionalAddOns)?void 0:l.some((t=>e.addOnId===t.addOnId))}));if(l.useEffect((()=>((0,vt._)(p)&&(E?f(!0):c(!0)),()=>f(!1))),[]),!(0,vt._)(p))return null;const C=h||(0,vt._)(p)&&!E&&!v,b=()=>{C||c(!1)},k=e=>{var t;h||(y.updateBasket.mutateAsync({request:{bookingCode:null==(t=null==d?void 0:d.booking)?void 0:t.bookingCode,updateCancellationInsuranceRequest:{selectedCancellationInsuranceAddOnId:e.addOnId}},waitForNewBasket:!0,waitForOnlinePaymentMethods:!0}),f(!0))},I=e=>{var t,n,l,o;if(h)return;(null==(l=null==(n=null==(t=null==d?void 0:d.booking)?void 0:t.bookingData)?void 0:n.optionalAddOns)?void 0:l.find((t=>t.addOnId===e.addOnId)))?y.updateBasket.mutateAsync({request:{bookingCode:null==(o=null==d?void 0:d.booking)?void 0:o.bookingCode,updateCancellationInsuranceRequest:{selectedCancellationInsuranceAddOnId:void 0}},waitForNewBasket:!0,waitForOnlinePaymentMethods:!0}):f(!0)};return l.createElement(g,{id:"cancellation_insurance_upsell",title:i("EA4H.General.OptionsForYouBooking")},l.createElement(Xn.u,{zIndex:99999,fullScreen:n,size:"auto",opened:s,padding:0,withCloseButton:!1,onClose:b},l.createElement(F.Z,{maxWidth:"800px",disableCloseButton:C,footer:l.createElement(el.q,{disableCloseButton:C,onClose:b}),onCloseClicked:b,modalName:"CancellationInsuranceUpsell"},l.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"20px"}},null==p?void 0:p.map((e=>l.createElement(Yn,{onRemoveClicked:()=>I(e),onAddClicked:()=>k(e),key:e.name,cancellationInsurance:e})))))),l.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"20px"}},null==p?void 0:p.map((e=>l.createElement(Yn,{onRemoveClicked:()=>I(e),onAddClicked:()=>k(e),key:e.name,cancellationInsurance:e})))))};var ol=({onSuccessfulCheckout:e,bookingCode:t,noCancelButton:n,noConfirmButton:o,corpCustomerDefaultChecked:r})=>{const[a,i]=(0,l.useState)(!1),d=(0,l.useRef)(null),s=(0,tl.g)(),{data:c}=(0,Gt.E)(),m=(0,l.useRef)(null),p=(0,l.useRef)(),v=(0,l.useRef)(),g=(0,l.useRef)(null),f=(0,un.useQueryClient)();(0,l.useEffect)((()=>window.scrollTo({top:0,behavior:"smooth"})),[]),(0,l.useEffect)((()=>{s.APIClient.basketsReapplyGiftVouchersInBasketV1({channelId:null==c?void 0:c.channelId}).then((e=>{e.success&&f.invalidateQueries("basket")}))}),[]);return l.createElement(u.A,{onSuccessfulCheckout:e,bookingCode:t,corpCustomerDefaultChecked:r},l.createElement(ge,null),l.createElement(Zn,{onSuccess:e=>{var t,n,l,o,r;null==(t=p.current)||t.setFieldValue("firstName",e.firstName),null==(n=p.current)||n.setFieldValue("lastName",e.lastName),null==(l=p.current)||l.setFieldValue("emailAddress",e.emailAddress),null==(o=p.current)||o.setFieldValue("confirmEmailAddress",e.emailAddress),null==(r=p.current)||r.setFieldError("socialLoginDone",!0)}}),l.createElement(tt,{validateForm:a,onCustomerInfoFormCreated:e=>p.current=e,responsibleForBookingSectionRef:m}),l.createElement(Ct,{customerForm:p,guestInfoFormDOMRef:g,onFormCreated:e=>v.current=e,validateForm:a}),l.createElement(nl,null),l.createElement(kt,null),l.createElement(sn,{ccGuaranteeIFrameRef:d}),l.createElement($n,{creditCardGuaranteeIframeRef:d,guestInfoForm:v,guestInfoFormDOMRef:g,responsibleForBookingSectionRef:m,customerForm:p,noConfirmButton:o,noCancelButton:n}))},rl=n(39065),al=n(2460);var il=({noSidebar:e,noConfirmButton:t,noCancelButton:n,noPadding:u,onSuccessfulCheckout:m,cancelBookingRedirectPath:p,corpCustomerDefaultChecked:v})=>{var g,f,y;const h=(0,l.useRef)(!1),E=(0,a.Zl)(Sn.g),{clearDataLayer:C,registerGTMEvent:b}=(0,i.l)(),{data:k}=(0,_e.K)(),{data:I}=(0,Gt.E)(),{registerGA4Event:x}=(0,rl.t)(),P=(0,r.Fg)(),S=(0,A.H)(),w=(0,o.useMediaQuery)({query:P.mediaQueries.large});return(0,l.useEffect)((()=>{var e,t,n,l;if((null==(e=null==k?void 0:k.booking)?void 0:e.bookingData)&&!h.current){const e=(0,al.u)(null==(t=null==k?void 0:k.booking)?void 0:t.bookingData,null==(l=null==(n=null==I?void 0:I.externalIntegrations)?void 0:n.gtm)?void 0:l.conversionLevel);C(),b({event:rl.h.BEGIN_CHECKOUT,ecommerce:{currencycode:null==I?void 0:I.currency,add:{products:e}}}),x({event:rl.h.BEGIN_CHECKOUT,gaItemList:{currency:null==I?void 0:I.currency,value:k.booking.bookingData.totalPrice,items:e}}),h.current=!0}}),[k]),(0,l.useLayoutEffect)((()=>{E((0,wn.n)(S("EA4H.General.Step{0}Of{1}StepSelect{2}"),3,3,S("EA4H.General.YourDetailsAndPayment")))}),[]),l.createElement(s.Rt,{id:"content_div",noSideBar:e,noPadding:u},!e&&w&&l.createElement(l.Suspense,{fallback:l.createElement(c.c,{height:400,width:360})},l.createElement(s._G,{id:"sidebar_container"},l.createElement(d.C,{bookingData:null==(g=null==k?void 0:k.booking)?void 0:g.bookingData,cancelBookingRedirectPath:p}))),l.createElement(l.Suspense,{fallback:l.createElement(c.c,{height:400})},l.createElement(s.Z1,null,!e&&!w&&l.createElement("div",{style:{marginBottom:"50px"}},l.createElement(d.C,{bookingData:null==(f=null==k?void 0:k.booking)?void 0:f.bookingData})),l.createElement(ol,{corpCustomerDefaultChecked:v,onSuccessfulCheckout:m,bookingCode:null==(y=null==k?void 0:k.booking)?void 0:y.bookingCode,noConfirmButton:t,noCancelButton:n}))))}}}]);
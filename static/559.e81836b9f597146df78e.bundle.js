/*! For license information please see 559.e81836b9f597146df78e.bundle.js.LICENSE.txt */
"use strict";(this.webpackChunkBV=this.webpackChunkBV||[]).push([[559],{56898:function(e,t,n){n.d(t,{$:function(){return m},t:function(){return p}});var r=Object.defineProperty,l=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,c=(e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))i.call(t,n)&&c(e,n,t[n]);if(a)for(var n of a(t))s.call(t,n)&&c(e,n,t[n]);return e},d=(e,t)=>l(e,o(t));const m={withCloseButton:!1,classNames:{inner:"bv_modal_inner",root:"bv_modal_root",content:"bv_modal_modal"},styles:{root:{zIndex:10050},inner:{pointerEvents:"auto",zIndex:99999},content:{overflow:"visible !important"}},padding:0,transitionProps:{exitDuration:250},size:"auto",yOffset:0},p=d(u({},m),{fullscreen:!0,classNames:d(u({},m.classNames),{content:"bv_modal_modal bv_modal_autowidth"})})},30783:function(e,t,n){n.d(t,{d:function(){return a}});var r=n(20399),l=n(59888),o=n(41347);const a=e=>{const t=(0,o.g)();let n=Object.values(l.Ur);const a=e||t.channelId;return(0,r.useQuery)(["onlinemessages",a],(()=>t.APIClient.accommodationCustomOnlineMessageV1(n,void 0,a)),{staleTime:1/0,refetchOnWindowFocus:!1,suspense:!0})}},89559:function(e,t,n){n.r(t),n.d(t,{default:function(){return H}});var r=n(8051),l=n(12263),o=n(40387),a=n(66656),i=n(24972),s=n(93806),c=n(60530),u=n(13235),d=n(86041),m=n(69083),p=n(17204),v=n(63711),y=n(47833),h=n(57551),g=n(41237),f=n(82795),b=n(41347),E=n(30783),x=n(20399);var w=n(99787);const O=e=>{var t;let n,r=null==(t=null==e?void 0:e.roomsResult)?void 0:t.filter((e=>e.nrAvailable&&e.nrAvailable>0&&e.cheapestPrice)).map((e=>{var t;return null!=(t=e.cheapestPrice)?t:Number.MAX_VALUE}));return r&&(n=Math.min(...r)),n},k=()=>{const e=(0,l.Fg)(),t=(0,a.o)(),n=(0,s.useMediaQuery)({query:e.mediaQueries.verySmall});return r.createElement(r.Fragment,null,r.createElement("div",{style:{background:n?"transparent":e.css.frameworkBackground,zIndex:1,position:"relative",height:"100%"}},r.createElement("button",{style:{display:"grid",placeContent:"center",height:"30px",width:"30px",borderRadius:"100%",position:"absolute",top:n?5:"-15px",right:n?5:"-15px",background:`${(0,w.W)(e.css.popoutColor,void 0,.8).color}`,outline:0,border:0,cursor:"pointer"},onClick:t.closeAll},r.createElement(y.G,{color:e.css.popoutBackground,style:{height:"18px"},icon:h.faXmark})),r.createElement(r.Suspense,{fallback:null},r.createElement(S,{closeModal:t.closeAll}))))},S=e=>{var t,n,a,y,h;const w=(0,l.Fg)(),k=(0,s.useMediaQuery)({query:w.mediaQueries.small}),S=(0,o.H)(),[A,I]=r.useState(!0),[C,P]=r.useState(""),_=(0,b.g)();let F=(0,i.sJ)(d.l);const j=(0,i.sJ)(c.F),[M,V]=r.useState(!1),z=r.useRef(null),{data:H}=(()=>{const e=(0,b.g)();return(0,x.useQuery)("hotelinformation",(()=>e.APIClient.hotelInfoV1(void 0,e.channelId)),{staleTime:1/0,refetchOnWindowFocus:!1,suspense:!0})})(),{data:T}=(0,E.d)(),B=(0,i.sJ)(u.D),D=(0,p.aH)(j,B);return r.createElement(r.Fragment,null,r.createElement("div",{className:"sys",style:{display:"flex",flexDirection:k?"column":"row",fontFamily:w.css.bodyFontFamily}},(null==(n=null==(t=null==H?void 0:H.images)?void 0:t[0])?void 0:n.uri)?r.createElement("div",{style:{height:k?"300px":"400px",width:"100%",backgroundImage:`url('${null==(y=null==(a=null==H?void 0:H.images)?void 0:a[0])?void 0:y.uri}')`,backgroundPosition:"center",backgroundRepeat:"none",backgroundSize:"cover"}}):null,r.createElement("div",{style:{flexBasis:"100%",padding:"30px"}},r.createElement(m.h4,{style:{margin:k?0:"20px 0px 0px 0px"}},S("EA4H.General.SaveYourSearch")),r.createElement(f.A,{style:{fontWeight:600,margin:"15px 0px 20px 0px"},dangerouslySetInnerHTML:{__html:`${null==(h=null==T?void 0:T.onlineMessages)?void 0:h.SaveYourSearch}:`}}),r.createElement(g.II,{as:"textarea",value:D,id:"saveYourSearchLink",style:{width:"100%",resize:"none",height:"80px",padding:"8px"},readOnly:!0}),A&&r.createElement("div",{style:{textAlign:"right",marginTop:"15px",width:"max-content",float:"right"}},r.createElement(v.z,{onClick:()=>I(!1)},r.createElement("strong",{style:{textTransform:"uppercase"}},S("EA4H.Confirmation.SendAsEmail")))),!A&&r.createElement(r.Fragment,null,r.createElement("div",{id:"saveYourSearchEmailArea",style:{marginTop:"10px"}},r.createElement(g.II,{style:{width:"100%"},id:"email-input",ref:z,value:C,required:!0,onChange:e=>{z.current.setCustomValidity(""),P(e.target.value)},type:"email",placeholder:S("EA4H.General.Email")})),r.createElement("div",{style:{textAlign:"right",marginTop:"15px",width:"max-content",float:"right"}},r.createElement(v.z,{isLoading:M,disabled:M,onClick:()=>{return t=void 0,n=null,r=function*(){var t,n,r,l;if(!(null==(t=null==z?void 0:z.current)?void 0:t.checkValidity()))return null==(n=null==z?void 0:z.current)||n.setCustomValidity(S("EA4H.General.Error.InvalidEmailAddress")),void(null==(r=null==z?void 0:z.current)||r.reportValidity());null==(l=null==z?void 0:z.current)||l.setCustomValidity("");try{V(!0),(yield _.APIClient.accommodationSendSaveYourSearchLinkV1({channelId:_.channelId,email:C,link:D,price:O(F),searchOptions:j}))&&e.closeModal()}finally{V(!1)}},new Promise(((e,l)=>{var o=e=>{try{i(r.next(e))}catch(e){l(e)}},a=e=>{try{i(r.throw(e))}catch(e){l(e)}},i=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,a);i((r=r.apply(t,n)).next())}));var t,n,r}},r.createElement("strong",{style:{gridArea:"1 / 1 / 2 / 2",opacity:M?0:1,textTransform:"uppercase"}},S("EA4H.General.Send"))))))))};var A=n(56898),I=Object.defineProperty,C=Object.defineProperties,P=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,M=(e,t,n)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const V="save_your_search";var z=()=>{const e=(0,a.o)();return{open:()=>{var t;e.openModal((t=((e,t)=>{for(var n in t||(t={}))F.call(t,n)&&M(e,n,t[n]);if(_)for(var n of _(t))j.call(t,n)&&M(e,n,t[n]);return e})({modalId:V,children:r.createElement(k,null)},A.$),C(t,P({centered:!0,styles:{content:{overflow:"visible !important"}}}))))},close:(0,r.useCallback)((()=>{try{e.closeModal(V)}catch(e){}}),[])}};var H=e=>{const t=(0,o.H)(),n=(0,l.Fg)(),a=z();return r.createElement("span",null," â‹… ",r.createElement("span",{style:{cursor:"pointer",color:"currentColor",fontSize:n.css.bodyFontSize,textDecoration:"underline",fontWeight:+n.css.bodyFontWeight},onClick:a.open},t("EA4H.General.SaveSearch")))}}}]);